<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorator="fragments/template">
<head lang="it">
</head>
<body>
	<div layout:fragment="content">

		<div th:if="${#authentication.principal.account.isSegreteria() and creditiModificati != null and creditiModificati == true}" id="modale-conferma-segreteria" class="modal fade modal-conferma" data-model-index="1" role="dialog">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
						</button>
						<h4 class="modal-title" id="myModalLabel1" th:text="#{label.richiesta_conferma}">Richiesta di conferma</h4>
					</div>
					<div class="modal-body">
						<div th:if="${eventoWrapper.evento.confermatiCrediti}">
							<label class="value" th:text="#{label.richiesta_conferma_cambio_crediti(${oldValueCrediti}, ${newValueCrediti})}"></label>
						</div>
						<div th:unless="${eventoWrapper.evento.confermatiCrediti}">
							<label class="value" th:if="${oldValueCrediti != newValueCrediti}" th:text="#{label.notifica_cambio_crediti(${oldValueCrediti}, ${newValueCrediti}, ${creditiProposti})}"></label>
							<label class="value" th:if="${oldValueCrediti == newValueCrediti}" th:text="#{label.notifica_non_cambio_crediti(${newValueCrediti}, ${creditiProposti})}"></label>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-success pull-right" th:text="#{label.salva}" onclick="submitConfirm()"></button>
						<button type="button" class="btn btn-primary pull-right" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
					</div>
				</div>
			</div>
		</div>

		<!-- finestra modale di lookup delle anagrafiche -->
		<div id="lookup-persona-modal" class="modal fade modal-lookup-persona" data-model-index="1" role="dialog">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
						</button>
						<h4 class="modal-title" id="myModalLabel1" th:text="#{label.cerca_persona}">Cerca anagrafica</h4>
					</div>
					<div class="modal-body">
						<table id="tabella-modale" class="datatable-responsive-search-anagrafica-evento table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
							<thead>
								<tr>
									<th th:text="#{label.codice_fiscale}">Codice fiscale</th>
									<th th:text="#{label.nome}">Nome</th>
									<th th:text="#{label.cognome}">Cognome</th>
									<th th:text="#{label.id}" class="hidden">Id</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<!-- popolata con una request ajax -->
							</tbody>
						</table>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
					</div>
				</div>
			</div>
		</div>

		<!-- finestra modale di aggiunta delle persone -->
		<div id="add-persona-modal" class="modal fade modal-add-persona" data-model-index="2" role="dialog">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
						</button>
						<h4 class="modal-title" id="myModalLabel2" th:text="#{label.inserisci_persona}">Inserisci persona</h4>
					</div>
					<div class="modal-body" id="container-addPersonaTo">
						<form id="addPersonaTo" name="addPersonaEvento" class="form-horizontal form-label-left"
								th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/addPersonaTo|}"
								 method="post" enctype="multipart/form-data"
								novalidate="novalidate">

<!-- 							input hidden per poter riprendere il bean diversificato corretto -->
<!-- 							<input type="hidden" name="eventoWrapper_cId" th:value="${eventoWrapper_cId}"/> -->

							<!-- COGNOME -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="cognome_persona">
									<span th:text="#{label.cognome}">Cognome</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaBase_cognome"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="${eventoWrapper.tempPersonaEvento.anagrafica.cognome}" />
								</div>
							</div>

							<!-- NOME -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="nome_persona">
									<span th:text="#{label.nome}">Nome</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaBase_nome"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="${eventoWrapper.tempPersonaEvento.anagrafica.nome}"  />
								</div>
							</div>

							<!-- CODICE FISCALE -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="codice_fiscale">
									<span th:text="#{label.codice_fiscale}">Codice Fiscale</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaBase_codice_fiscale"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="${eventoWrapper.tempPersonaEvento.anagrafica.codiceFiscale}"  />
								</div>
							</div>

							<!-- STRANIERO -->
							<div class="item form-group" id="container-straniero">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="codice_fiscale">
									<span th:text="#{label.straniero}">Straniero</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<div class="checkbox">
										<label>
											<input id="anagraficaBase_straniero" type="checkbox" class="flat" th:field="${eventoWrapper.tempPersonaEvento.anagrafica.straniero}" />
										</label>
									</div>
								</div>
							</div>

							<!-- SOLO PER RESPONSABILE SCIENTIFICO - VERSIONE EVENTO 2 -->
							<!-- SOLO PER ESPERTI - PRESENTI SOLO IN VERSIONE EVENTO 2 -->
							<!-- SOLO PER COORDINATORI - PRESENTI SOLO IN VERSIONE EVENTO 2 -->
							<div class="item form-group" id="container-svolgeAttivitaDiDocenza">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="anagraficaBase_svolgeAttivitaDiDocenza">
									<span th:text="#{label.svolge_attivita_docenza}">Svolge attività di docenza</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<div class="checkbox">
										<label>
											<input id="anagraficaBase_svolgeAttivitaDiDocenza" type="checkbox" class="flat" th:field="${eventoWrapper.tempPersonaEvento.svolgeAttivitaDiDocenza}" />
										</label>
									</div>
								</div>
							</div>

							<!-- SOLO PER RESPONSABILI SEGRETERIA -->
							<!-- QUALIFICA -->
							<div class="item form-group" id="container-qualifica">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="codice_fiscale">
									<span th:text="#{label.qualifica}">Qualifica</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaBase_qualifica" required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="${eventoWrapper.tempPersonaEvento.qualifica}"  />
								</div>
							</div>

							<!-- SOLO PER DOCENTI -->
							<!-- RUOLO -->
							<div class="item form-group" id="container-ruolo">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="codice_fiscale">
									<span th:text="#{label.ruolo}">Ruolo</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<select id="personaevento-ruolo"
										class="selectpicker required selectRuolo"
										th:field="${eventoWrapper.tempPersonaEvento.ruolo}"
										data-width="100%" data-style="btn-primary"
										data-actions-box="true" data-size="10"
										data-hide-disabled="false"
										title="Seleziona un ruolo">
										<option
											th:each="ruolo, row: ${T(it.tredi.ecm.dao.enumlist.RuoloPersonaEventoEnum).values()}"
											th:value="${ruolo}"
											th:text="${ruolo.nome}"
											th:unless="${(ruolo == T(it.tredi.ecm.dao.enumlist.RuoloPersonaEventoEnum).RELATORE or ruolo == T(it.tredi.ecm.dao.enumlist.RuoloPersonaEventoEnum).MODERATORE) and eventoWrapper.evento.proceduraFormativa == T(it.tredi.ecm.dao.enumlist.ProceduraFormativa).FAD}">
										</option>
									</select>
								</div>
							</div>

							<!-- SOLO PER DOCENTI -->
							<!-- TITOLARE/SOSTITUTO -->
							<div class="item form-group" id="container-titolare">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="titolare">
									<span th:text="#{label.titolare} + '/' + #{label.sostituto}">Titolare</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="contenuti">
									<div class="radio">
										<label>
											<input type="radio" class="flat" th:field="${eventoWrapper.tempPersonaEvento.titolare}" th:value="${'titolare'}" />
											<span th:text="#{label.titolare}"></span>
										</label>
										<label>
											<input type="radio" class="flat" th:field="${eventoWrapper.tempPersonaEvento.titolare}" th:value="${'sostituto'}" />
											<span th:text="#{label.sostituto}"></span>
										</label>
									</div>
								</div>
							</div>

							<!-- CV -->
							<div class="item form-group" id="container-cv">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="cv">
									<span th:text="#{label.cv}">cv</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<!--  th:block th:include="fragments/allegati :: allegati(eventoWrapper.tempPersonaEvento.anagrafica, false, cv, null, null, null, false, null, false)" ></th:block -->
									<th:block th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_CV}', cv, null, null, null, true, 'edit', false)" ></th:block>
								</div>
							</div>

							<!-- input id="targetTable" type="submit" name="addPersonaTo" style="display: none;" /-->
							<input id="targetTable" type="text" name="addPersonaTo" style="display: none;" />
							<input id="typePersona" type="text" name="typePersona" style="display: none;" />
							<input id="fromLookUp" type="text" name="fromLookUp" style="display: none;" />
							<input id="modificaElementoPersona" type="text" name="modificaElemento" style="display: none;" />

						</form>
					</div>
					<div class="modal-footer">
						<button onclick="closeModaleAddPersona()" type="button" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
						<label for="targetTable" class="btn btn-success pull-right" onclick="sendAjaxAddPersonaTo()" th:text="#{label.invia}">Invia</label>
					</div>
				</div>
			</div>
		</div>

		<!-- finestra modale di aggiunta delle persone FULL-->
		<div id="add-personaFull-modal" class="modal fade modal-add-personaFull" data-model-index="3" role="dialog">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
						</button>
						<h4 class="modal-title" id="myModalLabel3" th:text="#{label.inserisci_persona}">Inserisci persona</h4>
					</div>
					<div class="modal-body" id="container-addPersonaFullTo">
						<form id="addPersonaFullTo" name="addPersonaFullEvento" class="form-horizontal form-label-left"
								th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/addPersonaFullTo|}"
								th:object="${eventoWrapper.tempPersonaFullEvento}" method="post" enctype="multipart/form-data"
								novalidate="novalidate">

<!-- 							input hidden per poter riprendere il bean diversificato corretto -->
<!-- 							<input type="hidden" name="eventoWrapper_cId" th:value="${eventoWrapper_cId}"/> -->

							<!-- COGNOME -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="cognome_personaFull">
									<span th:text="#{label.cognome}">Cognome</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaFull_cognome"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="*{anagrafica.cognome}" />
								</div>
							</div>

							<!-- NOME -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="nome_personaFull">
									<span th:text="#{label.nome}">Nome</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaFull_nome"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="*{anagrafica.nome}"  />
								</div>
							</div>

							<!-- CODICE FISCALE -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="codice_fiscaleFull">
									<span th:text="#{label.codice_fiscale}">Codice Fiscale</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaFull_codice_fiscale"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="*{anagrafica.codiceFiscale}"  />
								</div>
							</div>

							<!-- EMAIL -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="emailFull">
									<span th:text="#{label.email}">Email</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaFull_email"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="*{anagrafica.email}"  />
								</div>
							</div>

							<!-- TELEFONO -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="telefonoFull">
									<span th:text="#{label.telefono}">Telefono</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaFull_telefono"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="*{anagrafica.telefono}"  />
								</div>
							</div>

							<!-- CELLULARE -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="cellulareFull">
									<span th:text="#{label.cellulare}">Cellulare</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="anagraficaFull_cellulare"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="*{anagrafica.cellulare}"  />
								</div>
							</div>

							<input id="targetTableFull" type="text" name="addPersonaFullTo" style="display: none;" />
							<input id="typePersonaFull" type="text" name="typePersonaFull" style="display: none;" />
							<input id="fromLookUpFull" type="text" name="fromLookUpFull" style="display: none;" />
							<input id="modificaElementoPersonaFull" type="text" name="modificaElementoFull" style="display: none;" />
						</form>
					</div>
					<div class="modal-footer">
						<button onclick="closeModaleAddPersonaFull()" type="button" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
						<label for="targetTableFull" class="btn btn-success pull-right" onclick="sendAjaxAddPersonaFullTo()" th:text="#{label.invia}">Invia</label>
					</div>
				</div>
			</div>
		</div>

		<!-- finestra modale di aggiunta degli sponsor-->
		<div id="add-sponsor-modal" class="modal fade modal-add-sponsor" data-model-index="4" role="dialog">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
						</button>
						<h4 class="modal-title" id="myModalLabel3" th:text="#{label.inserisci_sponsor}">Inserisci sponsor</h4>
					</div>
					<div class="modal-body" id="container-addSponsorTo">
						<form id="addSponsorTo" name="addSponsorEvento" class="form-horizontal form-label-left"
								th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/addSponsorTo|}"
								method="post" enctype="multipart/form-data"
								novalidate="novalidate">

<!-- 							input hidden per poter riprendere il bean diversificato corretto -->
<!-- 							<input type="hidden" name="eventoWrapper_cId" th:value="${eventoWrapper_cId}"/> -->

							<!-- NOME SPONSOR -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="nome_sponsor">
									<span th:text="#{label.nome_sponsor}">Nome dello Sponsor</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="nome_sponsor"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="${eventoWrapper.tempSponsorEvento.name}" />
								</div>
							</div>

							<!-- FILE SPONSOR -->
<!-- 							<div class="item form-group"> -->
<!-- 								<label class="control-label col-md-3 col-sm-3 col-xs-11"> -->
<!-- 									<span th:text="#{label.contratto}">Contratto</span> -->
<!-- 									<span class="required">*</span> -->
<!-- 								</label> -->
<!-- 								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"> -->
<!-- 									<th:block th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_CONTRATTO_SPONSOR}', sponsorFile, null, null, null, true, null, false)" ></th:block> -->
<!-- 								</div> -->
<!-- 							</div> -->

<!-- 							<input id="targetTableSponsor" type="text" name="addSponsorTo" style="display: none;" /> -->
<!-- 							<input id="typeSponsor" type="text" name="typeSponsor" style="display: none;" /> -->
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" onclick="closeModaleAddSponsor()" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
						<label for="targetTableSponsor" class="btn btn-success pull-right" onclick="sendAjaxAddSponsorTo()" th:text="#{label.invia}">Invia</label>
					</div>
				</div>
			</div>
		</div>

		<!-- finestra modale di aggiunta degli partner-->
		<div id="add-partner-modal" class="modal fade modal-add-partner" data-model-index="4" role="dialog">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
						</button>
						<h4 class="modal-title" id="myModalLabel3" th:text="#{label.inserisci_partner}">Inserisci partner</h4>
					</div>
					<div class="modal-body" id="container-addPartnerTo">
						<form id="addPartnerTo" name="addPartnerEvento" class="form-horizontal form-label-left"
								th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/addPartnerTo|}"
								method="post" enctype="multipart/form-data"
								novalidate="novalidate">

<!-- 							input hidden per poter riprendere il bean diversificato corretto -->
<!-- 							<input type="hidden" name="eventoWrapper_cId" th:value="${eventoWrapper_cId}"/> -->

							<!-- NOME PARTNER -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="nome_partner">
									<span th:text="#{label.nome_partner}">Nome dello Partner</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<input id="nome_partner"
										required="required"	class="form-control col-md-7 col-xs-12"
										type="text" th:field="${eventoWrapper.tempPartnerEvento.name}" />
								</div>
							</div>

							<!-- FILE PARTNER -->
							<div class="item form-group">
								<label class="control-label col-md-3 col-sm-3 col-xs-11" for="cv">
									<span th:text="#{label.contratto}">Contratto</span>
									<span class="required">*</span>
								</label>
								<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
									<th:block th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_CONTRATTO_PARTNER}', partnerFile, null, null, null, true, 'edit', false)" ></th:block>
								</div>
							</div>

<!-- 							<input id="targetTablePartner" type="text" name="addPartnerTo" style="display: none;" /> -->
<!-- 							<input id="typePartner" type="text" name="typePartner" style="display: none;" /> -->
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" onclick="closeModaleAddPartner()" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
						<label for="targetTablePartner" class="btn btn-success pull-right" onclick="sendAjaxAddPartnerTo()" th:text="#{label.invia}">Invia</label>
					</div>
				</div>
			</div>
		</div>


		<div class="row">
			<div class="col-xs-12">

				<div class="x_panel">
					<div class="x_title">
						<h2 th:if="${eventoWrapper.evento.isNew() and !eventoWrapper.evento.isEventoDaPianoFormativo()}" th:text="#{label.creazione_nuovo_evento(${eventoWrapper.proceduraFormativa})}"></h2>
						<h2 th:unless="${eventoWrapper.evento.isNew() or eventoWrapper.evento.isEventoDaPianoFormativo()}" th:text="#{label.modifica_evento_tipo(${eventoWrapper.proceduraFormativa},${eventoWrapper.evento.getCodiceIdentificativo()})}"></h2>
						<h2 th:if="${eventoWrapper.evento.isNew() and eventoWrapper.evento.isEventoDaPianoFormativo()}" th:text="#{label.accreditamento_evento_piano_formativo(${eventoWrapper.proceduraFormativa})}"></h2>
						<h2 th:unless="${eventoWrapper.evento.isNew() or !eventoWrapper.evento.isEventoDaPianoFormativo()}" th:text="#{label.modifica_evento_accreditato(${eventoWrapper.proceduraFormativa},${eventoWrapper.evento.getCodiceIdentificativo()})}"></h2>
						<div class="pull-right buttons-header">
							<div class="dropdown pull-right">

  								<a class="btn btn-primary" th:href="@{|__${returnLink}__|}" th:text="#{label.indietro}"></a>

  								<button class="btn btn-success dropdown-toggle" type="button" data-toggle="dropdown">
									<span th:text="#{label.menu_azioni}"></span>
									<span class="caret"></span>
								</button>
								<!-- menù raggruppato per segreteria -->
								<ul class="dropdown-menu actions">
									<!-- <li><a><label class="in-dropdown" for="submitButton" th:text="#{label.salva_modifiche}"></label></a></li> -->
									<li th:unless="${eventoWrapper.evento.isRiedizione()
										or eventoWrapper.evento.stato != T(it.tredi.ecm.dao.enumlist.EventoStatoEnum).BOZZA}">
										<a th:text="#{label.salva_bozza}" onclick="submitSave()"></a>
									</li>
									<li th:if="${eventoWrapper.evento.stato == T(it.tredi.ecm.dao.enumlist.EventoStatoEnum).BOZZA}">
										<a th:text="#{label.conferma_evento}" onclick="submitValidate()"></a>
									</li>
									<li th:unless="${eventoWrapper.evento.stato == T(it.tredi.ecm.dao.enumlist.EventoStatoEnum).BOZZA}">
										<a th:text="#{label.conferma_modifiche_evento}" onclick="submitValidate()"></a>
									</li>
								</ul>
							</div>
						</div>
						<div class="clearfix"></div>
					</div>

<!-- 					DEBUG USEFULL STAMPS -->
<!-- 					<div th:each="attr: ${T(java.util.Collections).list(#ctx.httpSession.attributeNames)}"><div th:text="${attr}"></div></div> -->
<!-- 					<div th:text="${eventoWrapper_cId}"></div> -->

					<th:block th:switch="${eventoWrapper.proceduraFormativa}">
						<th:block th:case="${T(it.tredi.ecm.dao.enumlist.ProceduraFormativa).FAD}">
							<th:block th:include="evento/eventoFADEdit :: eventoFADEdit"></th:block>
						</th:block>
						<th:block th:case="${T(it.tredi.ecm.dao.enumlist.ProceduraFormativa).FSC}">
							<th:block th:include="evento/eventoFSCEdit :: eventoFSCEdit"></th:block>
						</th:block>
						<th:block th:case="${T(it.tredi.ecm.dao.enumlist.ProceduraFormativa).RES}">
							<th:block th:include="evento/eventoRESEdit :: eventoRESEdit"></th:block>
						</th:block>
					</th:block>

				</div>
			</div>
		</div>
		
		<th:block th:include="evento/eventoVersione :: eventoVersione" />

		<script src="../static/js/province.js" th:src="@{/js/province.js}"></script>
		<script th:inline="javascript">
		/*<![CDATA[*/

         	var days;
			var months;

			var eventoWrapper_cId = '&eventoWrapper_cId=' + [[${eventoWrapper_cId}]]

			//Contatore caratteri titolo evento
			var text_max = 3000;
			$('#counter').empty().html(text_max + ' '+[[#{label.caratteri_rimanenti}]]);

			$('#title').keyup(function() {
			  var text_length = $('#title').val().length;
			  var text_remaining = text_max - text_length;

			  $('#counter').empty().html(text_remaining + ' '+[[#{label.caratteri_rimanenti}]]);
			});

			$(document).ready(function() {

				$('.datatable-responsive-search-anagrafica-evento').DataTable({
					"bInfo" : false,
					"bPaginate" : false,
					scrollY: 300,
					"bScrollCollapse": true,
				    scroller: true,
					//colonna del pulsante seleziona
// 				    "order": [[ 0, 'asc' ], [ 1, 'asc' ]],
				    "columnDefs": [ {"targets": 3, "orderable": false, "width": "1px"} ],
				});

				//modale conferma modifiche crediti segreteria
				if([[${creditiModificati != null and creditiModificati == true}]])
					$("#modale-conferma-segreteria").modal("show");

				//init datatable responsabili scientifici
			    reInitDataTableById('responsabiliScientifici');
				/*
				$('#responsabiliScientifici').DataTable({
			    	"bFilter" : false,
					"bInfo" : false,
					"bPaginate" : false,
					"ordering" : false,
					"columnDefs": [{
						"targets": 7,
						"width": "1px",
						"sClass": "center",
						"responsivePriority": 1
					}]
			    });
				*/
				
			  	//init datatable docenti
			    $('#docenti').DataTable({
			    	"bFilter" : false,
					"bInfo" : false,
					"bPaginate" : false,
					"ordering" : false,
					"columnDefs": [{
						"targets": 7,
						"width": "1px",
						"sClass": "center",
						"responsivePriority": 1
					}]
			    });

			  	//init datatable responsabile segreteria
			  	$('#responsabileSegreteria').DataTable({
			    	"bFilter" : false,
					"bInfo" : false,
					"bPaginate" : false,
					"ordering" : false,
					"columnDefs": [{
						"targets": 6,
						"width": "1px",
						"sClass": "center",
						"responsivePriority": 1
					}]
			    });

			  	//init datatable sponsor
			  	$('#sponsors').DataTable({
			  		"bFilter" : false,
					"bInfo" : false,
					"bPaginate" : false,
					"ordering" : false,
					"columnDefs": [{
						"targets": 2,
						"width": "1px",
						"sClass": "center",
						"responsivePriority": 1
					}]
			    });

			  	//init datatable partner
			  	$('#partners').DataTable({
			  		"bFilter" : false,
					"bInfo" : false,
					"bPaginate" : false,
					"ordering" : false,
					"columnDefs": [{
						"targets": 2,
						"width": "1px",
						"sClass": "center",
						"responsivePriority": 1
					}]
			    });

			    initAllCommon();
			});

			//reinit dei widget complessi nella modale add persona
			function reInitModaleAddAttivita(){
			$('input.flat').iCheck({
		            checkboxClass: 'icheckbox_flat-green',
		            radioClass: 'iradio_flat-green'
		        });
				//reinit selecpicker
			    $('select').selectpicker({
					selectAllText : 'Seleziona tutti',
					deselectAllText : 'Deseleziona tutti',
					countSelectedText : '{0} selezionate'
				});

			    var handler = $('.ora').clockpicker({
			    	donetext: [[#{label.applica}]],
			    	align: 'left',
			        autoclose: true,
			        'default': 'now'
			    });

			}

			function initAllCommon(){
			  	//devo recuperare tutte le coppie provincia comune del programma giornaliero
			  	$('.provincia').each(function() {
			  		if($(this).attr("data-programma-provincia") != undefined) {
			  			//console.log($(this).attr("data-programma-provincia"));
			  			//recupero il relativo campo comune
			  			//console.log('nome prov: ' + $(this).attr('id'));
			  			//console.log('nome com: ' + $('.comune  [data-programma-comune="' + $(this).attr("data-programma-provincia") + '"]').attr('id'));
			  			initProvinciaComune($(this).attr('id'), $('.comune  [data-programma-comune="' + $(this).attr("data-programma-provincia") + '"]').attr('id'));
			  		}
			  	});

			  	//ajax setup per passare il conversation id del bean (multitab) come request parameter in tutte le chiamate ajax get
			  	$.ajaxSetup({
					data: { eventoWrapper_cId: [[${eventoWrapper_cId}]] }
				});

				days = getDayNamesShort();
				months = getMonthNames();

				$('#dataInizio').daterangepicker({
			        singleDatePicker: true,
			        autoApply: true,
			        autoUpdateInput: true,
			        format: "DD/MM/YYYY",
			        locale: {
				        daysOfWeek: days,
		                monthNames: months,
			        }
			    })

			    $('#dataFine').daterangepicker({
			        singleDatePicker: true,
			        autoApply: true,
			        autoUpdateInput: true,
			        minDate: $('#dataInizio').val(),
			        format: "DD/MM/YYYY",
			        locale: {
				        daysOfWeek: days,
		                monthNames: months,
			        }
			    })

			    $('#dataInizio').on("hide.daterangepicker", function() {
					$(this).closest('.bad').removeClass('bad').find('div.alert').fadeOut(150, function() {
						$(this).remove();
					});
				});

				//setta minDate alla data di inizio evento
				$('#dataInizio').on("apply.daterangepicker change", function() {
					updateDataFine();
				});

			    $('#dataFine').on("hide.daterangepicker", function() {
					$(this).closest('.bad').removeClass('bad').find('div.alert').fadeOut(150, function() {
						$(this).remove();
					});
				});

				if($("#professioni")[0]) {
					abilitaDiscipline($("#professioni")[0]);
				}

				//decide cosa mostrare a seconda dei campi già settati dal client
				showHideCampsCommon();

				//appende ai widget tutti i vari eventListener
				handleListenerEventsCampsCommon();

			}

			//funzione che imposta (lato client) una data fine >= alla data di inzio
			function updateDataFine() {
				$('#dataFine').daterangepicker({
			        singleDatePicker: true,
			        autoApply: true,
			        autoUpdateInput: true,
			        minDate: $('#dataInizio').val(),
			        format: "DD/MM/YYYY",
			        locale: {
				        daysOfWeek: days,
		                monthNames: months,
			        }
			    })
			}

			//funzione per l'abilita / disabilita le discipline selezionabili in base alle professioni
			function abilitaDiscipline(professioni) {
				//flag per capire se c'è almeno una professione
				var almenoUna = false;
				$.each(professioni.options, function(index, item) {
					//toglie la parte relativa al codice della professione
					prof = item.text;
					//abilita/disabilita tutte le discipline delle professioni selezionate/deselezionate
					if (item.selected) {
						$('optgroup[label="' + prof + '"]').prop(
								'disabled', false);
						almenoUna = true;
					} else {
						$('optgroup[label="' + prof + '"]').prop(
								'disabled', true);
					}
				});
				//decide se disabilitare/abilitare tutta la select
				//decide se disabilitare/abilitare tutta la select
				if (almenoUna && ($('#discipline').attr('data-editabile') === 'true')) {
					$('#discipline').prop('disabled', false);
				} else {
					$('#discipline').prop('disabled', true);
				}
				//refresh della view
				$('#discipline').selectpicker('refresh');
			}

			//implementazione della funzione che decide cosa mostrare a seconda dei campi già settati dal client per i campi in comune tra gli eventi
			function showHideCampsCommon() {

				//sponsor
				mostraNascondiCampiSponsor($(".sponsor:checked").val());

				//finanziamenti
			    mostraNascondiCampiFinanziamento($(".finanziamento:checked").val());

				//partner
			    mostraNascondiCampiPartner($(".partner:checked").val());

				//radio alimenti prima infanzia
				mostraNascondiRadioPrimaInfanzia($(".contenuto:checked").val());

				//allegati alimenti prima infanzia
				if($(".contenuto:checked").val() == "ALIMENTAZIONE_PRIMA_INFANZIA") {
					 mostraNascondiAllegatiAutocertificazioniSponsor($(".sponsor-infanzia:checked").val())
				}

			}

			function handleListenerEventsCampsCommon(){

				//gestione evento iCheck su radio riguardante gli sponsor
				$(".sponsor").on("ifChecked", function() {
					mostraNascondiCampiSponsor($(this).val());
				});

				//gestione evento iCheck su radio riguardante i finanziamenti
				$(".finanziamento").on("ifChecked", function() {
					mostraNascondiCampiFinanziamento($(this).val());
				});

				//gestione evento iCheck su radio riguardante i partner
				$(".partner").on("ifChecked", function() {
					mostraNascondiCampiPartner($(this).val());
				});

				$(".contenuto").on("ifChecked", function() {
					mostraNascondiRadioPrimaInfanzia($(this).val());
				})

				//gestione evento iCheck su radio riguardante le autocertificazioni alimenti prima infanzia
				$(".sponsor-infanzia").on("ifChecked", function() {
					mostraNascondiAllegatiAutocertificazioniSponsor($(this).val());
				})

			}

			//funzioni show/hide in base alle scelte effettuate (lato client)
			//sponsor show/hide
			function mostraNascondiCampiSponsor(value) {
				if(value == "true") {
					$(".sponsor-si").slideDown("slow");
					//TODO logica enable?
				}
				else {
					$(".sponsor-si").slideUp("slow");
					//TODO logica disable?
				}
			}

			//funzioni show/hide in base alle scelte effettuate (lato client)
			//radio alimenti infanzia show/hide
			function mostraNascondiRadioPrimaInfanzia(value) {
				if(value == "ALIMENTAZIONE_PRIMA_INFANZIA") {
					$(".infanzia-sponsor-radio").slideDown("slow");
					mostraNascondiAllegatiAutocertificazioniSponsor($(".sponsor-infanzia").val());
					//TODO logica enable?
				}
				else {
					$(".infanzia-sponsor-radio").slideUp("slow");
					$(".infanzia-sponsor-si").slideUp("slow");
					$(".infanzia-sponsor-no").slideUp("slow");
					//TODO logica disable?
				}
			}

			//funzioni show/hide in base alle scelte effettuate (lato client)
			//autocertificazioni alimenti prima infanzia show/hide
			function mostraNascondiAllegatiAutocertificazioniSponsor(value) {
				if(value == "true") {
					$(".infanzia-sponsor-si").slideDown("slow");
					$(".infanzia-sponsor-no").slideUp("fast");
				}
				else {
					$(".infanzia-sponsor-no").slideDown("slow");
					$(".infanzia-sponsor-si").slideUp("fast");
				}
			}

			//finanziamento show/hide
			function mostraNascondiCampiFinanziamento(value) {
				if(value == "true") {
					$(".finanziamento-si").slideDown("slow");
					$(".finanziamento-no").slideUp("fast");
					$("#contrattiAccordiConvenzioni").prop("disabled", false);
					$("#autocertificazioneAssenzaFinanziamenti").prop("disabled", true);
				}
				else {
					if(value == "false") {
						$(".finanziamento-si").slideUp("fast");
						$(".finanziamento-no").slideDown("slow");
						$("#contrattiAccordiConvenzioni").prop("disabled", true);
						$("#autocertificazioneAssenzaFinanziamenti").prop("disabled", false);
					}
					//caso non ancora selezionato nulla
					else {
						$(".finanziamento-si").hide();
						$(".finanziamento-no").hide();
						$("#contrattiAccordiConvenzioni").prop("disabled", true);
						$("#autocertificazioneAssenzaFinanziamenti").prop("disabled", true);
					}
				}
			}

			//partner show/hide
			function mostraNascondiCampiPartner(value) {
				if(value == "true") {
					$(".partner-si").slideDown("slow");
					//TODO logica enable?
				}
				else {
					$(".partner-si").slideUp("slow");
					//TODO logica disable?
				}
			}

			/*RIPETIBILI*/
/************************************************************************************************************************/



 			//reinizializzazione delle datatable singole by id
			function reInitDataTableById(target){
 				console.log("reinit by id called! - target: " + target);
				var versione = getVersione();
				//destroy della datatable prima della reinizializzazione
 				$("#"+target).DataTable().destroy();
				var buttonColumn;
				//indica se mostrare le colonne Identificativo e svolgeAttivitaDiDocenza 
				var showExtCols = false;
				switch(target) {
					case "responsabiliScientifici":
						buttonColumn = 6;
					break;
					case "esperti": buttonColumn = 5;
					break;
					case "coordinatori": buttonColumn = 5;
					break;
					case "investigatori": buttonColumn = 4;
					break;
					case "docenti": buttonColumn = 7;
					break;
					case "responsabileSegreteria": buttonColumn = 6;
					break;
					case "sponsors": buttonColumn = 2;
					break;
					case "partners": buttonColumn = 2;
					break;
					case "dt-riepilogoFSC": buttonColumn = 2;
					break;
					default: buttonColumn = -1;
				}
				
				if(buttonColumn > -1) {
					if(target == 'responsabiliScientifici' && isFsc()) {
						//solo i responsabiliScientifici del evento FSC hanno le colonne in piu'
						buttonColumn = 8;
						if(versione === 2) {
							showExtCols = true;
						} else {
							showExtCols = false;
						} 
						$('#'+target).DataTable({
							"bFilter" : false,
							"bInfo" : false,
							"bPaginate" : false,
							"ordering" : false,
							"columnDefs": [{
								"targets": buttonColumn,
								"width": "1px",
								"sClass": "center",
								"responsivePriority": 1
							},{
								"targets": [ 6, 7 ],
				                "visible": showExtCols
							}]
					    });							
					} else {
						$('#'+target).DataTable({
							"bFilter" : false,
							"bInfo" : false,
							"bPaginate" : false,
							"ordering" : false,
							"columnDefs": [{
								"targets": buttonColumn,
								"width": "1px",
								"sClass": "center",
								"responsivePriority": 1
							}]
					    });
					}
				}
				else {
					$('#'+target).DataTable({
						"bFilter" : false,
						"bInfo" : false,
						"bPaginate" : false,
						"ordering" : false
				    });
				}
		  	}

			//reinizializzazione delle datatable multiple by class
			function reInitDataTableByClass(target){
 				console.log("reinit by class called! - target: " + target);
 				//destroy della datatable prima della reinizializzazione
 				$("."+target).each(function(i,v) {
 					$(v).DataTable().destroy();
 				});
				var buttonColumn;
				switch(target) {
					case "datatable-responsive-programmaFAD": buttonColumn = 6;
					break;
					case "datatable-responsive-programmaFSC": buttonColumn = 5;
					break;
					case "datatable-responsive-programmaRES": buttonColumn = 8;
				}
				var table = $('.'+target).DataTable({
					"bFilter" : false,
					"bInfo" : false,
					"bPaginate" : false,
					"ordering" : true,
					"columnDefs": [
						{"targets": buttonColumn,
						"width": "1px",
						"sClass": "center",
						"responsivePriority": 1},
						{"targets": 0,
						"orderable": true},
						{"targets": "no-sort", //gestione con classe (in tutti i sensi :) )
						"orderable": false},
					]
			    });

				$('.datatable-responsive-programmaRES tbody').on('click', 'tr', function () {
			        if ($(this).hasClass('selected')) {
			            $(this).removeClass('selected');
			        }
			        else {
			            $(this).addClass('selected');
			        }
			    });
		  	}


			//apre la finestra di inserimento di una persona
			//pulisce il binding del lookup se clean == true
			function openAddPersonaTo(target,type,fromLookup,modificaElemento,clean){
				//console.log('openAddPersonaTo-type: ' + type);
				//console.log('openAddPersonaTo-target: ' + target);
				var versione = getVersione();

				if(clean) {
					var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/setNewAnagraficaEvento/|}]] + type;
					if(type == 'Full'){
						$.get(url).done(function(data) {
							$('#container-addPersonaFullTo').empty().html(data);
							openAddPersonaTo(target,type,fromLookup,modificaElemento,false);
						  })
					  	.fail(function() {
					    	alert( "error" );
					 	 })
					}else{
						$.get(url).done(function(data) {
							$('#container-addPersonaTo').empty().html(data);
							reInitModaleAddPersona();
							openAddPersonaTo(target,type,fromLookup,modificaElemento,false);
						})
					  	.fail(function() {
					    	alert( "error" );
					 	})
					}
				}
				else {
					if(type == 'Full'){
						$('#targetTableFull').val(target);
						$('#typePersonaFull').val(type);
						$('#fromLookUpFull').val(fromLookup);
						$('#modificaElementoPersonaFull').val(modificaElemento);
						console.log('fromLookUpFull:' + fromLookup);
						if(fromLookup) {
							$('#anagraficaFull_codice_fiscale').prop("disabled", true);
						}
						else {
							$('#anagraficaFull_codice_fiscale').prop("disabled", false);
						}
					}else{
						$('#targetTable').val(target);
						$('#typePersona').val(type);
						$('#fromLookUp').val(fromLookup);
						$('#modificaElementoPersona').val(modificaElemento);
						console.log('fromLookUp:' + fromLookup);
						$("#container-svolgeAttivitaDiDocenza").hide();
						if(target == 'responsabiliScientifici'){
							$("#container-qualifica").show();
							if (isFsc() && versione === 2)
								$("#container-svolgeAttivitaDiDocenza").show();
							$("#container-ruolo").hide();
							$("#container-titolare").hide();
						}else if(target == 'docenti'){
							$("#container-qualifica").hide();
							//per EventoRES devo sistemare la select di inserimento del ruolo che cambia da versione 1 a 2
							updatePersonaEventoRuoliDisponibili();
							
							$("#container-ruolo").show();
							$("#container-titolare").show();
						}else if(target == 'investigatori'){
							$("#container-ruolo").hide();
							$("#container-titolare").hide();
							$('#container-cv').hide();
						}else if(target == 'esperti' || target == 'coordinatori'){
							$('#container-qualifica').hide();
							$('#container-straniero').hide();
							$('#container-ruolo').hide();
							$('#container-titolare').hide();
							$('#container-cv').hide();
							$('#container-svolgeAttivitaDiDocenza').show();
						}
						if(fromLookup) {
							$('#anagraficaBase_codice_fiscale').prop("disabled", true);
							$('#anagraficaBase_straniero').iCheck("disable");
							//abilito l'inserimento del cv se il cv è richiesto e la PersonaEvento selezionata non lo ha
							console.log('id file: ' + $('#cv\\.id').val());
							if($('#cv\\.id').val() != undefined && $('#cv\\.id').val() == '') {
								console.log('file mancante abilito l\'inserimento');
								$('#file_cv_button').prop("disabled", false);
								$('#elimina_cv_button').prop("disabled", true);
								$('#firma_cv_button').prop("disabled", false);
							} else {
								console.log('file presente disabilito la modifica');
								$('#file_cv_button').prop("disabled", true);
								$('#elimina_cv_button').prop("disabled", true);
								$('#firma_cv_button').prop("disabled", true);
							}
						}
						else {
							$('#anagraficaBase_codice_fiscale').prop("disabled", false);
							$('#anagraficaFull_straniero').iCheck("enable");
							$('#file_cv_button').prop("disabled", false);
							$('#elimina_cv_button').prop("disabled", false);
							$('#firma_cv_button').prop("disabled", false);
						}

					}
				}
			}
			
			function updatePersonaEventoRuoliDisponibili() {
				if(isRes()){
					console.log('updatePersonaEventoRuoliDisponibili: EvenoRES');
					var selectId = '#personaevento-ruolo';
					var versione = getVersione();

					$(selectId).selectpicker('val','');
					$(selectId).prop('disabled',false);

					$.each($(selectId + " option"), function() {
						if(versione === 2 || ($(this).attr("value") != 'MODERATORE')) {
							$(this).show();
						} else {
							$(this).hide();
						}
					});
					$(selectId).selectpicker('refresh');
				}
			}
			
			//chiude la modale di inserimento di una persona svuotandone i contenuti
			function closeModaleAddPersona(){
				console.log('closeModaleAddPersona')
				$("#add-persona-modal").modal("hide");
				$("#add-persona-modal form")[0].reset();
				$("#anagraficaBase_cognome").val('');
				$("#anagraficaBase_nome").val('');
				$("#anagraficaBase_codice_fiscale").val('');
				$("#anagraficaBase_qualifica").val('');
				$("#cv\\.id").val('');
				$("#cv\\.nomeFile").val('');
				$("#cv_label").text('').text([[#{label.nessun_file_selezionato}]]).removeAttr('href');
				$("#add-persona-modal .selectpicker").selectpicker('val','');
				$('#add-persona-modal input[type="checkbox"]').removeAttr('checked').iCheck('update');
				$('#add-persona-modal input[type="radio"]').removeAttr('checked').iCheck('update');
			}

			//chiude la modale di inserimento di una personaFull svuotandone i contenuti
			function closeModaleAddPersonaFull(){
				console.log('closeModaleAddPersonaFull')
				$("#add-personaFull-modal").modal("hide");
				$("#add-personaFull-modal form")[0].reset();
				$("#anagraficaFull_cognome").val('');
				$("#anagraficaFull_nome").val('');
				$("#anagraficaFull_codice_fiscale").val('');
				$("#anagraficaFull_email").val('');
				$("#anagraficaFull_telefono").val('');
				$("#anagraficaFull_cellulare").val('');
			}

			//chiude la modale di inserimento di uno sponsor svuotandone i contenuti
			function closeModaleAddSponsor(){
				$("#add-sponsor-modal").modal("hide");
				$("#add-sponsor-modal form")[0].reset();
				$("#sponsorFile\\.id").val('');
				$("#sponsorFile\\.nomeFile").val('');
				$("#sponsorFile_label").text([[#{label.nessun_file_selezionato}]]).removeAttr('href');
			}

			//chiude la modale di inserimento di uno partner svuotandone i contenuti
			function closeModaleAddPartner(){
				$("#add-partner-modal").modal("hide");
				$("#add-partner-modal form")[0].reset();
				$("#partnerFile\\.id").val('');
				$("#partnerFile\\.nomeFile").val('');
				$("#partnerFile_label").text([[#{label.nessun_file_selezionato}]]).removeAttr('href');
			}

			//reinit dei widget complessi nella modale add persona
			function reInitModaleAddPersona(){
				$('input.flat').iCheck({
		            checkboxClass: 'icheckbox_flat-green',
		            radioClass: 'iradio_flat-green'
		        });
				//reinit selecpicker
			    $('select').selectpicker({
					selectAllText : 'Seleziona tutti',
					deselectAllText : 'Deseleziona tutti',
					countSelectedText : '{0} selezionate'
				});
			}
			function sendAjaxModificaPersonaTo(target,type,fromLookup,modificaElemento){
				var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/modifica/|}]] + target + '/' + modificaElemento;
				if(type == 'Full'){
					$.get(url).done(function(data) {
						$('#container-addPersonaFullTo').empty().html(data);
						$('#add-personaFull-modal').modal("show");
						openAddPersonaTo(target,type,true,modificaElemento,false);
					  })
				  	.fail(function() {
				    	alert( "error" );
				 	 })
				}else{
					$.get(url).done(function(data) {
						$('#container-addPersonaTo').empty().html(data);
						reInitModaleAddPersona();
						$('#add-persona-modal').modal("show");
						openAddPersonaTo(target,type,true,modificaElemento,false);
					  })
				  	.fail(function() {
				    	alert( "error" );
				 	 })
				}
			}

			//sumbit della modale di inserimento persona
			function sendAjaxAddPersonaTo(){
				var target = $('#targetTable').val();
				$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addPersonaTo|}]], $('#addPersonaTo').serialize() + eventoWrapper_cId)
					.done(function(data) {
						//console.log('sendAjaxAddPersonaTo - data: ' + data);
						//errore validazione
						if($(data).find(".hasErrorAjax").length) {
							$.each($(data).find(".hasErrorAjax"), function(i, errorDiv) {
								var error = [$(errorDiv).find(".keyErrore").text(), $(errorDiv).find(".valueErrore").text()];
								addErrorModal("#"+error[0], error[1]);
							})
						}
						else {
						  	//$('#'+target).empty().html(data);
						  	$('#'+target+'Container').empty().html(data);
						  	reInitDataTableById(target);
						  	closeModaleAddPersona();
						  	//console.log(target);
						  	if([[${eventoWrapper.evento instanceof T(it.tredi.ecm.dao.entity.EventoRES)}]])
						  		sendAjaxRequestDocentiAttivitaRES();
						  	if([[${eventoWrapper.evento instanceof T(it.tredi.ecm.dao.entity.EventoFAD)}]])
						  		sendAjaxRequestDocentiAttivitaFAD();
						}
					})
				  	.fail(function() {
				  		//TODO mostra error sui campi mancanti
				    	alert( "error" );
				 	 })
			}

			//sumbit della modale di inserimento personaFull
			function sendAjaxAddPersonaFullTo(){
				var target = $('#targetTableFull').val();
				$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addPersonaFullTo|}]], $('#addPersonaFullTo').serialize() + eventoWrapper_cId)
					.done(function(data) {
						//errore validazione [target, msg]
						if($(data).find(".hasErrorAjax").length) {
							$.each($(data).find(".hasErrorAjax"), function(i, errorDiv) {
								var error = [$(errorDiv).find(".keyErrore").text(), $(errorDiv).find(".valueErrore").text()];
								addErrorModal("#"+error[0], error[1]);
							})
						}
						else {
							//tocca mettere empty() completamente a caso
							//(nonostante .html() sostituisca TUTTO il contenuto)
							//perchè sennò EXPLODER si offende malamente ( -.-)
						  	$('#'+target).empty().html(data);
						  	closeModaleAddPersonaFull();
						  	reInitDataTableById(target);
						}
					})
				  	.fail(function(error) {
				  		//TODO mostra error sui campi mancanti
				    	console.log(error)
				  		alert(error);

				 	 })
			}

			//mostra errore sulla finestra modale
			function addErrorModal(target, msg) {
				var $messageAlert = $("<div class='alert'></div>");
				$messageAlert.text(msg);
				var $item = $(target).closest(".item")
				$item.find(".alert").remove();
 				$item.append($messageAlert);
				$item.addClass("bad");
			}

			//sumbit della modale di inserimento sponsor
			function sendAjaxAddSponsorTo(){
				$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addSponsorTo|}]], $('#addSponsorTo').serialize() + eventoWrapper_cId)
					.done(function(data) {
						$('#sponsors').empty().html(data);
						closeModaleAddSponsor();
						reInitDataTableById('sponsors');
					})
					.fail(function(error) {
						//TODO mostra error sui campi mancanti
				    	alert(error);
					})
			}

			//sumbit della modale di inserimento partner
			function sendAjaxAddPartnerTo(){
				$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addPartnerTo|}]], $('#addPartnerTo').serialize() + eventoWrapper_cId)
					.done(function(data) {
						$('#partners').empty().html(data);
						closeModaleAddPartner();
						reInitDataTableById('partners');
					})
					.fail(function(error) {
						//TODO mostra error sui campi mancanti
				    	alert(error);
					})
			}

			//delete di una persona
			function removePersonaFrom(target,caller){
				removePersonaFromWithContainer(target,target,caller)
			}

			function removePersonaFromWithContainer(container,target,caller){
				var rowIndex = $(caller).parent().parent().data('row-id');
				var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/removePersonaFrom/|}]] + target + "/" + rowIndex;

				$("#" + container).load(url, function(data) {
					reInitDataTableById(target);
				});
			}

			//modifica persona
			function modificaPersonaFrom(target,caller){
				var modificaElemento = $(caller).parent().parent().data('row-id');
				if(modificaElemento == undefined)
					modificaElemento = 0;
				if(target == 'responsabiliScientifici'){
					sendAjaxModificaPersonaTo(target,'base',false,modificaElemento);
				}else if(target == 'docenti'){
					sendAjaxModificaPersonaTo(target,'base',false,modificaElemento);
				}else if(target == 'responsabileSegreteria'){
					sendAjaxModificaPersonaTo(target,'Full',false,modificaElemento);
				}else if(target == 'esperti'){
					sendAjaxModificaPersonaTo(target,'base',false,modificaElemento);
				}else if(target == 'coordinatori'){
					sendAjaxModificaPersonaTo(target,'base',false,modificaElemento);
				}else if(target == 'investigatori'){
					sendAjaxModificaPersonaTo(target,'base',false,modificaElemento);
				}
			}

			//delete di uno sponsor
			function removeSponsor(caller){
				var rowIndex = $(caller).parent().parent().data('row-id');
				var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/removeSponsor/|}]] + rowIndex;

				$('#sponsors').load(url, function() {
					reInitDataTableById('sponsors');
				});
			}

			//delete del partner
			function removePartner(caller){
				var rowIndex = $(caller).parent().parent().data('row-id');
				var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/removePartner/|}]] + rowIndex;

				$('#partners').load(url, function() {
					reInitDataTableById('partners');
				});
			}

			//modale di lookup della persona
// 			function openLookupPersona(target,type){
// 				var table = $('#tabella-modale').DataTable();
// 				table.clear().draw();
// 				var startUrl = [[@{|/provider/${eventoWrapper.evento.provider.id}/|}]];
// 				urlGet =  type == 'Full' ? startUrl + "anagraficaFullEventoList" : startUrl + "anagraficaEventoList";

// 				$.get( urlGet, function(data){
// 					for(var item = 0; item < data.length; item++){
// 						var obj = data[item];
// 						table.row.add([
// 							obj.anagrafica.codiceFiscale,
// 							obj.anagrafica.nome,
// 							obj.anagrafica.cognome,
// 							'<a class="btn btn-primary btn-lookup" onclick="setLookupAnagraficaEvento(\''+ target + '\',\'' + type + '\',' + obj.id + ')">'+[[#{label.seleziona}]]+'</a>'
// 						]).draw(false);
// 					}
// 				});
// 			}

			function openLookupPersona(target,anagraficaType){
				var startUrl = [[@{|/provider/${eventoWrapper.evento.provider.id}/|}]];
				urlGet =  anagraficaType == 'Full' ? startUrl + 'anagraficaFullEventoList' : startUrl + 'anagraficaEventoList';
				$('#tabella-modale').DataTable().destroy();
				$('#tabella-modale').DataTable({
					bInfo: false,
					bPaginate: false,
					scrollY: 300,
					bScrollCollapse: true,
				    scroller: true,
				    ajax: {
				        url: urlGet,
				        dataSrc: ''
				    },
				    columns: [
				    	{data: 'anagrafica.codiceFiscale'},
				    	{data: 'anagrafica.nome'},
				    	{data: 'anagrafica.cognome'},
				    	{data: 'id'},
				    	{render: function (data, type, full, meta) {
				                    //console.log('anagraficaType:' + anagraficaType);
				                    //console.log('meta:' + meta);
				    				return '<button onclick="setLookupAnagraficaEvento(\''+ target + '\',\'' + anagraficaType + '\',' + full.id + ')" class="btn btn-primary">'+[[#{label.seleziona}]]+'</button>';
		                 		}
				    	}
				    ],
				    columnDefs: [
				    	{targets: 3, sClass: "hidden", visible: false},
				    	{targets: 4, orderable: false, width: "1%", sClass: "center"}
				    ],
				});
			}


			//chiusura modale lookup persona
			function closeModaleLookupPersona(){
				$("#lookup-persona-modal").modal('hide');
			}

			//imposta nella modale di inserimento della persona i dati presi dal lookup
			function setLookupAnagraficaEvento(target,type,anagraficaId){
				var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/setLookupAnagraficaEvento/|}]] + type + '/' + anagraficaId;
				if(type == 'Full'){
					$.get(url).done(function(data) {
						closeModaleLookupPersona();
						$('#container-addPersonaFullTo').empty().html(data);
						$('#add-personaFull-modal').modal("show");
						openAddPersonaTo(target,type,true,undefined,false);
					  })
				  	.fail(function() {
				    	alert( "error" );
				 	 })
				}else{
					$.get(url).done(function(data) {
						closeModaleLookupPersona();
						$('#container-addPersonaTo').empty().html(data);
						reInitModaleAddPersona();
						$('#add-persona-modal').modal("show");
						openAddPersonaTo(target,type,true,undefined,false);
					  })
				  	.fail(function() {
				    	alert( "error" );
				 	 })
				}
			}

			//inserisce un docente nella lista dei disponibili (per l'attività)
			function sendAjaxRequestDocentiAttivitaRES(){
				var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/listaDocentiAttivita|}]];
				$.get(url, function(data){
					$("#addAttivitaRES-docente").empty();
					for(var item = 0; item < data.length; item++){
						var option = '<option value = "' + data[item].id + '">' + data[item].anagrafica.cognome + "</option>";
						$("#addAttivitaRES-docente").append(option);
					}
					$("#addAttivitaRES-docente").prop("disabled", false);
					$("#addAttivitaRES-docente").selectpicker('refresh');

				});
			};

			//inserisce un docente nella lista dei disponibili (per l'attività)
			function sendAjaxRequestDocentiAttivitaFAD(){
				var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/listaDocentiAttivita|}]];
				$.get(url, function(data){
					$("#addAttivitaFAD-docente").empty();
					for(var item = 0; item < data.length; item++){
						var option = '<option value = "' + data[item].id + '">' + data[item].anagrafica.cognome + "</option>";
						$("#addAttivitaFAD-docente").append(option);
					}
					$("#addAttivitaFAD-docente").prop("disabled", false);
					$("#addAttivitaFAD-docente").selectpicker('refresh');

				});
			};

			function submitSave(){
				$(".form-evento").attr("action", [[@{|/provider/${eventoWrapper.providerId}/evento/save|}]]);
				$("#submitButton").click();
			}

			function submitValidate(){
				//cambia l'action del form
				$(".form-evento").attr("action", [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/validate|}]]);
				$("#submitButton").click();
			}

			function submitConfirm(){
				$(".form-evento").attr("action", [[@{|/provider/${eventoWrapper.providerId}/evento/validate/confirm|}]]);
				$("#submitButton").click();
			}

		/*]]>*/
		</script>
	</div>

	<!-- spostare in un altro FILE dei FRAGMENT table per i ripetibili -->
	<th:block style="display:none">
		<th:block th:fragment="responsabiliScientifici">

			<!-- <th:block th:if="${#lists.size(eventoWrapper.responsabiliScientifici) == 0}">
				<label class="col-xs-offset-4 col-xs-4" th:text="${#lists.size(eventoWrapper.responsabiliScientifici)}"></label>
				<label class="col-xs-offset-4 col-xs-4" th:text="#{label.nessun_responsabile_registrato}"></label>
			</th:block> -->
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')},
					isFsc=${eventoWrapper.proceduraFormativa == T(it.tredi.ecm.dao.enumlist.ProceduraFormativa).FSC},
					isFscAndVersioneSaved2=${isFsc and eventoWrapper.evento.versione == T(it.tredi.ecm.dao.enumlist.EventoVersioneEnum).DUE_DAL_2018},
					checkEdit=${isFscAndVersioneSaved2 ? isEventoIniziato : isRiedizione or isEditSemiBloccato}">

			<script th:inline="javascript" th:if="${isFsc}">
			/*<![CDATA[*/
				ruoliRespScient = [[${eventoWrapper.getListRuoloFSCEnumPerResponsabiliScientifici()}]];
			/*]]>*/
			</script>
		
			<table id="responsabiliScientifici" class="datatable-responsive-responsabili no-order table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabili')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.cognome}">Cognome</th>
						<th th:text="#{label.nome}">Nome</th>
						<th th:text="#{label.cf}">CF</th>
						<th th:text="#{label.qualifica}">Qualifica</th>
						<th th:text="#{label.cv}">CV</th>
						<th th:text="#{label.stato_cv}">CV</th>
						<th th:text="#{label.identificativo_persona_evento}" th:if="${isFsc}">Identificativo</th>
						<th th:text="#{label.svolge_attivita_docenza}" th:if="${isFsc}">Svolge attività di docenza</th>
						<th style="padding-right: 8px;">
							<div class="evento-button-container">
								<a th:unless="${checkEdit}" id="lookup-responsabiliScientifici" class="btn btn-primary evento-table-button" onclick="openLookupPersona('responsabiliScientifici','base')" data-toggle="modal" data-target=".modal-lookup-persona">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:unless="${checkEdit}" id="add-responsabiliScientifici" class="btn btn-success evento-table-button" onclick="openAddPersonaTo('responsabiliScientifici','base',false,undefined,true)" data-toggle="modal" data-target=".modal-add-persona">
									<span><i class="fa fa-plus"></i></span>
								</a>
								<a th:if="${checkEdit}" id="lookup-responsabiliScientifici" class="btn btn-primary disabled evento-table-button">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:if="${checkEdit}" id="add-responsabiliScientifici" class="btn btn-success disabled evento-table-button">
									<span><i class="fa fa-plus"></i></span>
								</a>
							</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:attr="data-row-id=${__${status.index}__}"
						th:each="persona, status : ${eventoWrapper.responsabiliScientifici}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'responsabiliScientifici['+__${status.index}__+']')} ? 'bad-row'">
						<td th:text="${persona.anagrafica.cognome}"></td>
						<td th:text="${persona.anagrafica.nome}"></td>
						<td th:text="${persona.anagrafica.codiceFiscale}"></td>
						<td th:text="${persona.qualifica}"></td>
						<td>
							<a th:if="${persona.anagrafica.cv?.id}" th:text="${persona.anagrafica?.cv.nomeFile}" th:href="@{|/file/${persona.anagrafica.cv.id}|}"></a>
							<span th:unless="${persona.anagrafica.cv?.id}" th:text="#{label.nessun_cv}"></span>
						</td>
						<td>
							<th:block th:if="${persona.anagrafica.cv?.id}">
								<span th:if="${#temporals.createToday().minusYears(1).isAfter(persona.anagrafica?.cv.dataCreazione)}" th:text="#{label.cv_non_aggiornato}" class="orange"></span>
								<span th:unless="${#temporals.createToday().minusYears(1).isAfter(persona.anagrafica?.cv.dataCreazione)}" th:text="#{label.cv_aggiornato}" class="green"></span>
							</th:block>
						</td>
						<td th:text="${persona.identificativoPersonaRuoloEvento?.nome}" th:if="${isFsc}"></td>
						<td th:text="${persona.svolgeAttivitaDiDocenza} ? #{label.sì} : #{label.no}" th:if="${isFsc}"></td>
						<td>
							<a th:unless="${checkEdit}" onclick="modificaPersonaFrom('responsabiliScientifici',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:unless="${checkEdit}" onclick="removePersonaFromWithContainer('responsabiliScientificiContainer','responsabiliScientifici',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
							<a th:if="${checkEdit}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:if="${checkEdit}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="docenti">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<table id="docenti" class="datatable-responsive-docenti table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.docenti')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.cognome}">Cognome</th>
						<th th:text="#{label.nome}">Nome</th>
						<th th:text="#{label.cf}">CF</th>
						<th th:text="#{label.ruolo}">Ruolo</th>
						<th th:text="#{label.titolare} + '/' + #{label.sostituto}">Titolare/Sostituto</th>
						<th th:text="#{label.cv}">CV</th>
						<th th:text="#{label.stato_cv}">CV</th>
						<th style="padding-right: 8px;">
							<div class="evento-button-container">
								<a th:unless="${isEventoIniziato}" id="lookup-docenti" class="btn btn-primary evento-table-button" onclick="openLookupPersona('docenti','base')" data-toggle="modal" data-target=".modal-lookup-persona">
										<span><i class="fa fa-search"></i></span>
									</a>
								<a th:unless="${isEventoIniziato}" id="add-docenti" class="btn btn-success evento-table-button" onclick="openAddPersonaTo('docenti','base',false,undefined,true)" data-toggle="modal" data-target=".modal-add-persona">
										<span><i class="fa fa-plus"></i></span>
									</a>
								<a th:if="${isEventoIniziato}" id="lookup-docenti" class="btn btn-primary disabled evento-table-button">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:if="${isEventoIniziato}" id="add-docenti" class="btn btn-success disabled evento-table-button">
									<span><i class="fa fa-plus"></i></span>
								</a>
							</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${#lists.size(eventoWrapper.docenti) > 0}"
						th:attr="data-row-id=${__${status.index}__}"
						th:each="persona, status : ${eventoWrapper.docenti}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'docenti['+__${status.index}__+']')} ? 'bad-row'">
						<td th:text="${persona.anagrafica.cognome}"></td>
						<td th:text="${persona.anagrafica.nome}"></td>
						<td th:text="${persona.anagrafica.codiceFiscale}"></td>
						<td th:text="${persona.ruolo}"></td>
						<td th:text="${persona.titolare}"></td>
						<td>
							<a th:if="${persona.anagrafica.cv?.id}" th:text="${persona.anagrafica?.cv.nomeFile}" th:href="@{|/file/${persona.anagrafica.cv.id}|}"></a>
							<span th:unless="${persona.anagrafica.cv?.id}" th:text="#{label.nessun_cv}"></span>
						</td>
						<td>
							<th:block th:if="${persona.anagrafica.cv?.id}">
								<span th:if="${#temporals.createToday().minusYears(1).isAfter(persona.anagrafica?.cv.dataCreazione)}" th:text="#{label.cv_non_aggiornato}" class="orange"></span>
								<span th:unless="${#temporals.createToday().minusYears(1).isAfter(persona.anagrafica?.cv.dataCreazione)}" th:text="#{label.cv_aggiornato}" class="green"></span>
							</th:block>
						</td>
						<td>
							<a th:unless="${isEventoIniziato}" onclick="modificaPersonaFrom('docenti',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:unless="${isEventoIniziato}" onclick="removePersonaFromWithContainer('docentiContainer','docenti',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="responsabileSegreteria">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<table id="responsabileSegreteria" class="datatable-responsive-responsabileSegreteria table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabileSegreteria')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.cognome}">Cognome</th>
						<th th:text="#{label.nome}">Nome</th>
						<th th:text="#{label.cf}">CF</th>
						<th th:text="#{label.email}">Email</th>
						<th th:text="#{label.telefono}">Telefono</th>
						<th th:text="#{label.cellulare}">Cellulare</th>
						<th style="padding-right: 8px;">
							<div class="evento-button-container">
								<a th:unless="${isEditSemiBloccato}" id="lookup-responsabileSegreteria" class="btn btn-primary evento-table-button" onclick="openLookupPersona('responsabileSegreteria','Full')" data-toggle="modal" data-target=".modal-lookup-persona">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:unless="${isEditSemiBloccato}" id="add-responsabileSegreteria" class="btn btn-success evento-table-button" onclick="openAddPersonaTo('responsabileSegreteria','Full',false,undefined,true)" data-toggle="modal" data-target=".modal-add-personaFull">
									<span><i class="fa fa-plus"></i></span>
								</a>
								<a th:if="${isEditSemiBloccato}" id="lookup-responsabileSegreteria" class="btn btn-primary disabled evento-table-button">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:if="${isEditSemiBloccato}" id="add-responsabileSegreteria" class="btn btn-success disabled evento-table-button">
									<span><i class="fa fa-plus"></i></span>
								</a>
							</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${eventoWrapper.evento.responsabileSegreteria != null and eventoWrapper.evento.responsabileSegreteria.anagrafica != null}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabileSegreteria')} ? 'bad-row'">
						<td th:text="${eventoWrapper.evento.responsabileSegreteria.anagrafica.cognome}"></td>
						<td th:text="${eventoWrapper.evento.responsabileSegreteria.anagrafica.nome}"></td>
						<td th:text="${eventoWrapper.evento.responsabileSegreteria.anagrafica.codiceFiscale}"></td>
						<td th:text="${eventoWrapper.evento.responsabileSegreteria.anagrafica.email}"></td>
						<td th:text="${eventoWrapper.evento.responsabileSegreteria.anagrafica.telefono}"></td>
						<td th:text="${eventoWrapper.evento.responsabileSegreteria.anagrafica.cellulare}"></td>
						<td>
							<a th:unless="${isEditSemiBloccato}" onclick="modificaPersonaFrom('responsabileSegreteria',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
								<a th:unless="${isEditSemiBloccato}" onclick="removePersonaFromWithContainer('responsabileSegreteriaContainer','responsabileSegreteria',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
								<a th:if="${isEditSemiBloccato}" class="btn btn-warning disabled btn-table single" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
								<a th:if="${isEditSemiBloccato}" class="btn btn-danger disabled btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="sponsors">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<table id="sponsors" class="datatable-responsive-sponsors table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sponsors')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.nome_sponsor}">Nome dello Sponsor</th>
						<th th:text="#{label.contratto}">Contratto</th>
						<th style="padding-right: 8px;">
							<a th:unless="${isRiedizione or isEditSemiBloccato}" id="add-sponsor" class="btn btn-success evento-table-button" data-toggle="modal" data-target=".modal-add-sponsor">
								<span><i class="fa fa-plus"></i></span>
							</a>
							<a th:if="${isRiedizione or isEditSemiBloccato}" id="add-sponsor" class="btn btn-success disabled evento-table-button">
								<span><i class="fa fa-plus"></i></span>
							</a>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${#lists.size(eventoWrapper.sponsors) > 0}" th:attr="data-row-id=${__${status.index}__}" th:each="sponsor, status : ${eventoWrapper.sponsors}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'sponsors['+__${status.index}__+']')} ? 'bad-row'">
						<td th:text="${sponsor.name}"></td>
						<td th:if="${sponsor.sponsorFile?.id}">
							<a th:text="${sponsor.sponsorFile?.nomeFile}" th:href="@{|/file/${sponsor.sponsorFile.id}|}"></a>
						</td>
						<td th:unless="${sponsor.sponsorFile?.id}">
							<span th:text="#{label.nessun_contratto}"></span>
						</td>
						<td>
							<a th:unless="${isRiedizione or isEditSemiBloccato}" onclick="removeSponsor(this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
							<a th:if="${isRiedizione or isEditSemiBloccato}" class="btn btn-danger disabled btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="partners">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<table id="partners" class="datatable-responsive-partners table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.partners')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.nome_partner}">Nome del Partner</th>
						<th th:text="#{label.contratto}">Contratto</th>
						<th style="padding-right: 8px;">
							<a th:unless="${isRiedizione or isEditSemiBloccato}" id="add-partner" class="btn btn-success evento-table-button" data-toggle="modal" data-target=".modal-add-partner">
								<span><i class="fa fa-plus"></i></span>
							</a>
							<a th:if="${isRiedizione or isEditSemiBloccato}" id="add-partner" class="btn btn-success disabled evento-table-button">
								<span><i class="fa fa-plus"></i></span>
							</a>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${#lists.size(eventoWrapper.partners) > 0}" th:attr="data-row-id=${__${status.index}__}" th:each="partner, status : ${eventoWrapper.partners}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'partners['+__${status.index}__+']')} ? 'bad-row'">
						<td th:text="${partner.name}"></td>
						<td th:if="${partner.partnerFile?.id}">
							<a th:text="${partner.partnerFile?.nomeFile}" th:href="@{|/file/${partner.partnerFile.id}|}"></a>
						</td>
						<td th:unless="${partner.partnerFile?.id}">
							<span th:text="#{label.nessun_contratto}"></span>
						</td>
						<td>
							<a th:unless="${isRiedizione or isEditSemiBloccato}" onclick="removePartner(this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
							<a th:if="${isRiedizione or isEditSemiBloccato}" class="btn btn-danger disabled btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>

	<!-- VISUALIZZAZIONE programmaEventoRES -->
	<th:block style="display:none">
		<div class="col-xs-12" th:fragment="attivitaRES">

			<input class="erroreSpostamentoOrario" th:value="${erroreSpostamentoOrario}" type="hidden" />

			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<div id="attivitaRES">
				<div th:id="${'attivitaRES-' + __${status.index}__}" class="col-xs-12"
						th:each="data , status : ${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap}"
						th:if="${data.value.programma.giorno!=null
							and
							(
								data.value.tipoData!=T(it.tredi.ecm.web.bean.EventoRESTipoDataProgrammaGiornalieroEnum).FINE
								or
								(
								data.value.tipoData==T(it.tredi.ecm.web.bean.EventoRESTipoDataProgrammaGiornalieroEnum).FINE
								and
								not data.value.programma.giorno.equals(eventoWrapper.evento.dataInizio)
								)
							)  }">
					<div class="item form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-11">
							<span th:text="#{label.programma_del}" class="text-uppercase">Programma del</span>
						</label>
						<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" >
							<!-- label class="control-label" th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.giorno}"> </label -->
							<label class="control-label" th:text="${#temporals.format(eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.giorno, 'dd/MM/yyyy')}"> </label>
						</div>
						<input type="hidden" th:value="${data.key}" />
					</div>
					<div class="item form-group">
						<label class="control-label col-md-3 col-sm-3 col-xs-11">
							<span th:text="#{label.sede}" class="text-uppercase">SEDE</span>
						</label>
						<div class="col-xs-1">
							<div th:attr="data-original-title=#{label.info_sede_programmaRES}" class="btn btn-default no-margin cursor-default" data-toggle="tooltip" data-placement="top"><i class="fa fa-info-circle"></i></div>
						</div>
					</div>
					<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.provincia')} ? 'bad'">
						<label class="control-label col-md-3 col-sm-3 col-xs-11">
							<span th:text="#{label.provincia}">Provincia</span>
							<span class="required">*</span>
						</label>
						<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" >
							<select th:attr="data-programma-provincia=__${data.key}__, id=provprog__${data.key}__"
								class="selectpicker required provincia"
								th:field="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.provincia}"
								data-width="100%" data-style="btn-primary"
								data-actions-box="true" data-size="10"
								data-hide-disabled="false" th:disabled="${isEditSemiBloccato}"
								title="Seleziona una provincia...">
								<option th:value="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.provincia}"
									th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.provincia}"/>
							</select>
						</div>
						<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.provincia')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+data.key+'].programma.sede.provincia')}__}"></div>
					</div>

					<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.comune')} ? 'bad'">
						<label class="control-label col-md-3 col-sm-3 col-xs-11">
							<span th:text="#{label.comune}">Comune</span>
							<span class="required">*</span>
						</label>
						<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" >
	                        	<select th:attr="data-programma-comune=__${data.key}__, id=comprog__${data.key}__, data-editabile=${!isEditSemiBloccato}"
								class="selectpicker required comune"
								th:field="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.comune}"
								data-width="100%" data-style="btn-primary"
								data-actions-box="true" data-size="10"
								data-hide-disabled="false" th:disabled="${isEditSemiBloccato}"
								onchange="sendAjaxRequestCAP()"
								title="Seleziona un comune...">
								<option th:value="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.comune}"
									th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.comune}"/>
							</select>
						</div>
						<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.comune')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+data.key+'].programma.sede.comune')}__}"></div>
					</div>
					<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.indirizzo')} ? 'bad'">
						<label class="control-label col-md-3 col-sm-3 col-xs-11">
							<span th:text="#{label.indirizzo}">Indirizzo</span>
							<span class="required">*</span>
						</label>
						<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" >
								<input type="text" th:attr="data-programma-indirizzo=__${data.key}__" class="form-control" th:field="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.indirizzo}" th:disabled="${isEditSemiBloccato}" />
						</div>
						<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.indirizzo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+data.key+'].programma.sede.indirizzo')}__}"></div>
					</div>
					<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.luogo')} ? 'bad'">
						<label class="control-label col-md-3 col-sm-3 col-xs-11">
							<span th:text="#{label.luogo}">Luogo</span>
							<span class="required">*</span>
						</label>
						<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" >
								<input type="text" th:attr="data-programma-luogo=__${data.key}__" class="form-control" th:field="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.sede.luogo}" th:disabled="${isEditSemiBloccato}" />
						</div>
						<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.sede.luogo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+data.key+'].programma.sede.luogo')}__}"></div>
					</div>
					<div class="col-xs-12 item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.programma')} ? 'bad'">
						<label class="col-lg-9 col-md-11 col-sm-11 col-xs-12" th:text="#{label.dettaglio_attivita}">Dettaglio Attività</label>
						<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.programma')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+data.key+'].programma.programma')}__}"></div>
						<div class="item form-group" style="clear:both; padding:2px;"></div>
						<div th:attr="data-programma-id=__${data.key}__" class="item div-programma-id form-group" style="clear:both">
							<table class="datatable-responsive-programmaRES table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
								th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.programma')} ? 'bad-table'">
								<thead>
									<tr>
										<th th:text="#{label.orario_inizio}">ORARIO INIZIO</th>
										<th th:text="#{label.orario_fine}" class="no-sort">ORARIO FINE</th>
										<th th:text="#{label.argomento}" class="no-sort">ARGOMENTO</th>
										<th th:text="#{label.docenti}" class="no-sort">Docenti</th>
										<th th:text="#{label.risultato_atteso}" class="no-sort">RISULTATAO ATTESO</th>
										<th th:text="#{label.tipologia_obiettivi_formativi}" class="no-sort">TIPOLOGIA DI OBIETTIVI FORMATIVI</th>
										<th th:text="#{label.metodologia_didattica}" class="no-sort">METODOLOGIA DIDATTICA</th>
										<th th:text="#{label.ore_attivita}" class="no-sort">ORE ATTIVITA'</th>
										<th class="no-sort">
											<div class="evento-button-container">
												<a th:unless="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivita" class="btn btn-success evento-table-button" th:title="#{label.inserisci_attivita}" th:onclick="'openAddAttivitaTo(\'attivitaRES\',__${data.key}__,\'\', undefined, true)'" data-toggle="modal" data-target=".modal-add-attivitaRES">
													<span><i class="fa fa-plus"></i></span>
												</a>
												<a th:unless="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivitaPausa" class="btn btn-success evento-table-button" th:title="#{label.inserisci_pausa}" th:onclick="'openAddAttivitaTo(\'attivitaRES\',__${data.key}__,\'PAUSA\', undefined, true)'" data-toggle="modal" data-target=".modal-add-attivitaRES">
													<span><i class="fa fa-pause-circle-o"></i></span>
												</a>
												<a th:unless="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivitaValutazioneApprendimento" class="btn btn-success evento-table-button" th:title="#{label.inserisci_valutazione_apprendimento}" th:onclick="'openAddAttivitaTo(\'attivitaRES\',__${data.key}__,\'VALUTAZIONE APPRENDIMENTO\', undefined, true)'" data-toggle="modal" data-target=".modal-add-attivitaRES">
													<span><i class="fa fa-pencil"></i></span>
												</a>
												<a th:unless="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivitaRegistrazionePartecipanti" class="btn btn-success evento-table-button" th:title="#{label.inserisci_registrazione_partecipanti}" th:onclick="'openAddAttivitaTo(\'attivitaRES\',__${data.key}__,\'REGISTRAZIONE PARTECIPANTI\', undefined, true)'" data-toggle="modal" data-target=".modal-add-attivitaRES">
													<span><i class="fa fa-group"></i></span>
												</a>
												<a th:if="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivita" class="btn btn-success disabled evento-table-button" th:title="#{label.inserisci_attivita}">
													<span><i class="fa fa-plus"></i></span>
												</a>
												<a th:if="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivitaPausa" class="btn btn-success disabled evento-table-button" th:title="#{label.inserisci_pausa}">
													<span><i class="fa fa-pause-circle-o"></i></span>
												</a>
												<a th:if="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivitaValutazioneApprendimento" class="btn btn-success disabled evento-table-button" th:title="#{label.inserisci_valutazione_apprendimento}">
													<span><i class="fa fa-pencil"></i></span>
												</a>
												<a th:if="${isRiedizione or isEditSemiBloccato or eventoWrapper.hasRiedizioni}" id="add-attivitaRegistrazionePartecipanti" class="btn btn-success disabled evento-table-button" th:title="#{label.inserisci_registrazione_partecipanti}">
													<span><i class="fa fa-group"></i></span>
												</a>
<!-- 												<button type="button" th:unless="${isEditSemiBloccato}" onclick="selezionaTutteAttivita($(this).parents('.datatable-responsive-programmaRES'))" class="btn btn-success evento-table-button" th:title="#{label.seleziona_tutti}"> -->
<!-- 													<span><i class="fa fa-list-ol"></i></span> -->
<!-- 												</button> -->
												<button type="button" th:unless="${isEventoIniziato or isEditSemiBloccato}" onclick="openModaleSpostaOrario($(this).parents('.datatable-responsive-programmaRES'))" class="btn btn-success evento-table-button" th:title="#{label.sposta_orario_selezionati}">
													<span><i class="fa fa-clock-o"></i></span>
												</button>
											</div>
										</th>
									</tr>
								</thead>
								<tbody>
									<tr th:attr="data-row-id=${__${status2.index}__}, data-extra-type=${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].getExtraType()}"
										th:each="attivita , status2 : ${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma}"
										th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap['+__${data.key}__+'].programma.programma['+__${status2.index}__+']')} ? 'bad-row'">
										<td th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].orarioInizio}"></td>
										<td th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].orarioFine}"></td>
										<td th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].argomento}"></td>
										<td>
											<div th:each="docente, row : ${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].docenti}" th:text="${docente.anagrafica?.cognome}"></div>
										</td>
										<td th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].risultatoAtteso}"></td>
										<td th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].obiettivoFormativo?.nome}"></td>
										<td th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].metodologiaDidattica?.nome}"></td>
										<!-- <td th:text="${eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].oreAttivita}"></td> -->
										<td th:text="${T(it.tredi.ecm.utils.Utils).formatOrario(eventoWrapper.eventoRESDateProgrammiGiornalieriWrapper.sortedProgrammiGiornalieriMap[__${data.key}__].programma.programma[__${status2.index}__].oreAttivita)}"></td>
										<td>
											<a th:unless="${isEventoIniziato or ((isEditSemiBloccato or isRiedizione or hasRiedizioni) and (attivita.isPausa() or attivita.isValutazioneApprendimento() or attivita.isRegistrazionePartecipanti()))}" onclick="event.cancelBubble=true;modificaAttivitaFrom('attivitaRES',this);" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
												<span><i class="fa fa-pencil"></i></span>
											</a>
											<a th:if="${isEventoIniziato or ((isEditSemiBloccato or isRiedizione or hasRiedizioni) and (attivita.isPausa() or attivita.isValutazioneApprendimento() or attivita.isRegistrazionePartecipanti()))}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
												<span><i class="fa fa-pencil"></i></span>
											</a>
											<a th:unless="${isRiedizione or isEditSemiBloccato or hasRiedizioni}" onclick="event.cancelBubble=true;removeAttivitaFrom('attivitaRES',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
												<span><i class="fa fa-trash"></i></span>
											</a>
											<a th:if="${isRiedizione or isEditSemiBloccato or hasRiedizioni}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
												<span><i class="fa fa-trash"></i></span>
											</a>
										</td>
									</tr>
								</tbody>
							</table>
							<div class="divider-dashed"></div>
						</div>
					</div>
				</div>
			</div>
			</th:block>
		</div>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="attivitaFSC">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<div id="attivitaFSC">
				<div th:id="${'attivitaFSC-' + __${status.index}__}" class="col-xs-12" th:each="fase , status : ${eventoWrapper.programmaEventoFSC}"  th:with="fase=${eventoWrapper.programmaEventoFSC[__${status.index}__].faseDiLavoro}">

					<th:block th:if="${(eventoWrapper.evento.tipologiaEventoFSC != T(it.tredi.ecm.dao.enumlist.TipologiaEventoFSCEnum).PROGETTI_DI_MIGLIORAMENTO) or T(it.tredi.ecm.dao.enumlist.ProgettiDiMiglioramentoFasiDaInserireFSCEnum).faseAbilitata(eventoWrapper.evento.fasiDaInserire,fase)}">

						<div class="item form-group">
							<th:block th:if="${fase != T(it.tredi.ecm.dao.enumlist.FaseDiLavoroFSCEnum).CAMPO_LIBERO}">
								<label class="control-label col-xs-2">
									<span th:text="#{label.fase}" class="text-uppercase">Fase</span>
								</label>
								<div class="col-xs-10" >
									<label class="control-label text-uppercase" th:text="${eventoWrapper.programmaEventoFSC[__${status.index}__].faseDiLavoro.nome}"> </label>
								</div>
							</th:block>
						</div>

						<div class="col-xs-12 item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'programmaEventoFSC['+__${status.index}__+'].azioniRuoli')} ? 'bad'">
							<label class="col-lg-9 col-md-11 col-sm-11 col-xs-12" th:if="${fase != T(it.tredi.ecm.dao.enumlist.FaseDiLavoroFSCEnum).CAMPO_LIBERO}" th:text="#{label.azioni} + '/' + #{label.ruoli}">Azioni / Ruoli</label>
							<label class="col-lg-9 col-md-11 col-sm-11 col-xs-12" th:if="${fase == T(it.tredi.ecm.dao.enumlist.FaseDiLavoroFSCEnum).CAMPO_LIBERO}" th:text="#{label.fasi}">Fasi</label>
							<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'programmaEventoFSC['+__${status.index}__+'].azioniRuoli')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('programmaEventoFSC['+status.index+'].azioniRuoli')}__}"></div>
							<div class="item form-group" style="clear:both; padding:2px;"></div>
							<div th:attr="data-fase-id=__${status.index}__" class="item form-group div-fase-id" style="clear:both">
								<table class="datatable-responsive-programmaFSC table table-striped no-order table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
									th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'programmaEventoFSC['+__${status.index}__+'].azioniRuoli')} ? 'bad-table'">
									<thead>
										<tr>
											<th th:if="${fase != T(it.tredi.ecm.dao.enumlist.FaseDiLavoroFSCEnum).CAMPO_LIBERO}" th:text="#{label.azione}" >AZIONE</th>
											<th th:if="${fase == T(it.tredi.ecm.dao.enumlist.FaseDiLavoroFSCEnum).CAMPO_LIBERO}" th:text="#{label.fase}"  class="no-sort">FASE</th>
											<th th:text="#{label.obiettivo_formativo}" class="no-sort">OBIETTIVO FORMATIVO</th>
											<th th:text="#{label.risultati_attesi}" class="no-sort">RISULTATAO ATTESO</th>
											<th th:text="#{label.metodi_di_lavoro}" class="no-sort">METODO DI LAVORO</th>
											<th th:text="#{label.ruoli_coinvolti}" class="no-sort">RUOLI COINVOLTI</th>
											<th>
												<a th:unless="${isRiedizione or isEditSemiBloccato or hasRiedizioni}" id="add-attivita" class="btn btn-success evento-table-button" th:title="#{label.inserisci_attivita}" th:onclick="'openAddAttivitaTo(\'attivitaFSC\',__${status.index}__,undefined,true)'" data-toggle="modal" data-target=".modal-add-attivitaFSC">
													<span><i class="fa fa-plus"></i></span>
												</a>
												<a th:if="${isRiedizione or isEditSemiBloccato or hasRiedizioni}" id="add-attivita" class="btn btn-success disabled evento-table-button" th:title="#{label.inserisci_attivita}">
													<span><i class="fa fa-plus"></i></span>
												</a>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr th:attr="data-row-id=${__${status2.index}__}"
											th:each="attivita , status2 : ${eventoWrapper.programmaEventoFSC[__${status.index}__].azioniRuoli}"
											th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'programmaEventoFSC['+__${status.index}__+'].azioniRuoli['+__${status2.index}__+']')} ? 'bad-row'">
											<td th:text="${eventoWrapper.programmaEventoFSC[__${status.index}__].azioniRuoli[__${status2.index}__].azione}"></td>
											<td th:text="${eventoWrapper.programmaEventoFSC[__${status.index}__].azioniRuoli[__${status2.index}__].obiettivoFormativo?.nome}"></td>
											<td th:text="${eventoWrapper.programmaEventoFSC[__${status.index}__].azioniRuoli[__${status2.index}__].risultatiAttesi}"></td>
											<td>
												<ul>
													<li th:each="metodo, m : ${eventoWrapper.programmaEventoFSC[__${status.index}__].azioniRuoli[__${status2.index}__].metodiDiLavoro}">
											 			<span th:text="${metodo.nome}"></span>
											 		</li>
												</ul>
											 </td>
											<td>
												<ul>
													<li th:each="ruoloFSC, r : ${eventoWrapper.programmaEventoFSC[__${status.index}__].azioniRuoli[__${status2.index}__].ruoli}">
											 			<span th:if="${ruoloFSC.ruolo != null}" th:text="${ruoloFSC.ruolo.nome} + ${ruoloFSC.tempoDedicato != null ? ' (' + ruoloFSC.tempoDedicato + 'h)' : ''}"></span>
											 		</li>
												</ul>
											 </td>
											<td>
												<a th:unless="${isRiedizione or isEditSemiBloccato}" onclick="modificaAttivitaFrom('attivitaFSC',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
													<span><i class="fa fa-pencil"></i></span>
												</a>
												<a th:unless="${isRiedizione or isEditSemiBloccato or hasRiedizioni}" onclick="removeAttivitaFrom('attivitaFSC',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
													<span><i class="fa fa-trash"></i></span>
												</a>
												<a th:if="${isRiedizione or isEditSemiBloccato}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
													<span><i class="fa fa-pencil"></i></span>
												</a>
												<a th:if="${isRiedizione or isEditSemiBloccato or hasRiedizioni}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
													<span><i class="fa fa-trash"></i></span>
												</a>
											</td>
										</tr>
									</tbody>
								</table>
								<div class="divider-dashed"></div>
							</div>
						</div>

					</th:block>

				</div>
			</div>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="attivitaFAD">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<div id="attivitaFAD" th:if="${eventoWrapper.programmaEventoFAD != null}">
				<div class="col-xs-12 item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.programmaFAD')} ? 'bad'">
					<label class="col-lg-9 col-md-11 col-sm-11 col-xs-12" th:text="#{label.dettaglio_attivita}">Dettaglio Attività</label>
					<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.programmaFAD')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.programmaFAD')}__}"></div>
					<div class="item form-group" style="clear:both; padding:2px;"></div>
					<div data-programma-id="0" class="item form-group div-programma-id" style="clear:both">
						<table class="datatable-responsive-programmaFAD table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
							th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.programmaFAD')} ? 'bad-table'">
							<thead>
								<tr>
									<th th:text="#{label.argomento}">ARGOMENTO</th>
									<th th:text="#{label.docente_tutor}" class="no-sort">Docente / Tutor</th>
									<th th:text="#{label.risultato_atteso}" class="no-sort">RISULTATAO ATTESO</th>
									<th th:text="#{label.tipologia_obiettivi_formativi}" class="no-sort">TIPOLOGIA DI OBIETTIVI FORMATIVI</th>
									<th th:text="#{label.metodologia_didattica}" class="no-sort">METODOLOGIA DIDATTICA</th>
									<th th:text="#{label.ore_attivita}" class="no-sort">ORE ATTIVITA'</th>
									<th>
										<a th:unless="${isRiedizione or isEditSemiBloccato}" id="add-attivita" class="btn btn-success evento-table-button" th:title="#{label.inserisci_attivita}" onclick="openAddAttivitaTo('attivitaFAD',undefined,true)" data-toggle="modal" data-target=".modal-add-attivitaFAD">
											<span><i class="fa fa-plus"></i></span>
										</a>
										<a th:if="${isRiedizione or isEditSemiBloccato}" id="add-attivita" class="btn btn-success disabled evento-table-button" th:title="#{label.inserisci_attivita}">
											<span><i class="fa fa-plus"></i></span>
										</a>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr th:attr="data-row-id=${__${row.index}__}"
									th:each="attivita , row : ${eventoWrapper.programmaEventoFAD}"
									th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'programmaEventoFAD['+__${row.index}__+']')} ? 'bad-row'">
									<td th:text="${attivita.argomento}"></td>
									<td>
										<div th:text="${docente.anagrafica?.cognome}" th:each="docente, row : ${attivita.docenti}"></div>
									</td>
									<td th:text="${attivita.risultatoAtteso}"></td>
									<td th:text="${attivita.obiettivoFormativo?.nome}"></td>
									<td th:text="${attivita.metodologiaDidattica?.nome}"></td>
									<td th:text="${T(it.tredi.ecm.utils.Utils).formatOrario(attivita.oreAttivita)}"></td>
									<td>
										<a th:unless="${isEventoIniziato}" onclick="modificaAttivitaFrom('attivitaFAD',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}" data-toggle="modal" data-target=".modal-add-attivitaFAD">
											<span><i class="fa fa-pencil"></i></span>
										</a>
										<a th:if="${isEventoIniziato}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
											<span><i class="fa fa-pencil"></i></span>
										</a>
										<a th:unless="${isRiedizione or isEditSemiBloccato}" onclick="removeAttivitaFrom('attivitaFAD',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
											<span><i class="fa fa-trash"></i></span>
										</a>
										<a th:if="${isRiedizione or isEditSemiBloccato}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
											<span><i class="fa fa-trash"></i></span>
										</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="divider-dashed"></div>
				</div>
			</div>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="esperti">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')},
					isFsc=${eventoWrapper.proceduraFormativa == T(it.tredi.ecm.dao.enumlist.ProceduraFormativa).FSC}">
			<script th:inline="javascript" th:if="${isFsc}">
			/*<![CDATA[*/
				ruoliEsperti = [[${eventoWrapper.getListRuoloFSCEnumPerEsperti()}]];
			/*]]>*/
			</script>

			<table id="esperti" class="table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.esperti')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.cognome}">Cognome</th>
						<th th:text="#{label.nome}">Nome</th>
						<th th:text="#{label.cf}">CF</th>
						<th th:text="#{label.identificativo_persona_evento}">Identificativo</th>
						<th th:text="#{label.svolge_attivita_docenza}">Svolge attività di docenza</th>
						<th style="padding-right: 8px;">
							<div class="evento-button-container">
								<a th:unless="${isEventoIniziato}" id="lookup-esperti" class="btn btn-primary evento-table-button" onclick="openLookupPersona('esperti','base')" data-toggle="modal" data-target=".modal-lookup-persona">
										<span><i class="fa fa-search"></i></span>
									</a>
								<a th:unless="${isEventoIniziato}" id="add-esperti" class="btn btn-success evento-table-button" onclick="openAddPersonaTo('esperti','base',false,undefined,true)" data-toggle="modal" data-target=".modal-add-persona">
										<span><i class="fa fa-plus"></i></span>
									</a>
								<a th:if="${isEventoIniziato}" id="lookup-esperti" class="btn btn-primary disabled evento-table-button">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:if="${isEventoIniziato}" id="add-esperti" class="btn btn-success disabled evento-table-button">
									<span><i class="fa fa-plus"></i></span>
								</a>
							</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${#lists.size(eventoWrapper.esperti) > 0}"
						th:attr="data-row-id=${__${status.index}__}"
						th:each="persona, status : ${eventoWrapper.esperti}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'esperti['+__${status.index}__+']')} ? 'bad-row'">
						<td th:text="${persona.anagrafica.cognome}"></td>
						<td th:text="${persona.anagrafica.nome}"></td>
						<td th:text="${persona.anagrafica.codiceFiscale}"></td>
						<td th:text="${persona.identificativoPersonaRuoloEvento?.nome}"></td>
						<td th:text="${persona.svolgeAttivitaDiDocenza} ? #{label.sì} : #{label.no}"></td>
						<td>
							<a th:unless="${isEventoIniziato}" onclick="modificaPersonaFrom('esperti',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:unless="${isEventoIniziato}" onclick="removePersonaFromWithContainer('espertiContainer','esperti',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="coordinatori">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')},
					isFsc=${eventoWrapper.proceduraFormativa == T(it.tredi.ecm.dao.enumlist.ProceduraFormativa).FSC}">
			<script th:inline="javascript" th:if="${isFsc}">
			/*<![CDATA[*/
				ruoliCoordinatori = [[${eventoWrapper.getListRuoloFSCEnumPerCoordinatori()}]];
			/*]]>*/
			</script>

			<table id="coordinatori" class="table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.coordinatori')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.cognome}">Cognome</th>
						<th th:text="#{label.nome}">Nome</th>
						<th th:text="#{label.cf}">CF</th>
						<th th:text="#{label.identificativo_persona_evento}">Identificativo</th>
						<th th:text="#{label.svolge_attivita_docenza}">Svolge attività di docenza</th>
						<th style="padding-right: 8px;">
							<div class="evento-button-container">
								<a th:unless="${isEventoIniziato}" id="lookup-coordinatori" class="btn btn-primary evento-table-button" onclick="openLookupPersona('coordinatori','base')" data-toggle="modal" data-target=".modal-lookup-persona">
										<span><i class="fa fa-search"></i></span>
									</a>
								<a th:unless="${isEventoIniziato}" id="add-coordinatori" class="btn btn-success evento-table-button" onclick="openAddPersonaTo('coordinatori','base',false,undefined,true)" data-toggle="modal" data-target=".modal-add-persona">
										<span><i class="fa fa-plus"></i></span>
									</a>
								<a th:if="${isEventoIniziato}" id="lookup-coordinatori" class="btn btn-primary disabled evento-table-button">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:if="${isEventoIniziato}" id="add-coordinatori" class="btn btn-success disabled evento-table-button">
									<span><i class="fa fa-plus"></i></span>
								</a>
							</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${#lists.size(eventoWrapper.coordinatori) > 0}"
						th:attr="data-row-id=${__${status.index}__}"
						th:each="persona, status : ${eventoWrapper.coordinatori}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'coordinatori['+__${status.index}__+']')} ? 'bad-row'">
						<td th:text="${persona.anagrafica.cognome}"></td>
						<td th:text="${persona.anagrafica.nome}"></td>
						<td th:text="${persona.anagrafica.codiceFiscale}"></td>
						<td th:text="${persona.identificativoPersonaRuoloEvento?.nome}"></td>
						<td th:text="${persona.svolgeAttivitaDiDocenza} ? #{label.sì} : #{label.no}"></td>
						<td>
							<a th:unless="${isEventoIniziato}" onclick="modificaPersonaFrom('coordinatori',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:unless="${isEventoIniziato}" onclick="removePersonaFromWithContainer('coordinatoriContainer','coordinatori',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>

	<th:block style="display:none">
		<th:block th:fragment="investigatori">
			<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
					isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
					isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
					hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">
			<table id="investigatori" class="table no-order table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
				th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.investigatori')} ? 'bad-table'">
				<thead>
					 <tr>
						<th th:text="#{label.cognome}">Cognome</th>
						<th th:text="#{label.nome}">Nome</th>
						<th th:text="#{label.cf}">CF</th>
						<th th:text="#{label.qualifica}">Qualifica</th>
						<th style="padding-right: 8px;">
							<div class="evento-button-container">
								<a th:unless="${isEventoIniziato}" id="lookup-investigatori" class="btn btn-primary evento-table-button" onclick="openLookupPersona('investigatori','base')" data-toggle="modal" data-target=".modal-lookup-persona">
										<span><i class="fa fa-search"></i></span>
									</a>
								<a th:unless="${isEventoIniziato}" id="add-investigatori" class="btn btn-success evento-table-button" onclick="openAddPersonaTo('investigatori','base',false,undefined,true)" data-toggle="modal" data-target=".modal-add-persona">
										<span><i class="fa fa-plus"></i></span>
									</a>
								<a th:if="${isEventoIniziato}" id="lookup-investigatori" class="btn btn-primary disabled evento-table-button">
									<span><i class="fa fa-search"></i></span>
								</a>
								<a th:if="${isEventoIniziato}" id="add-investigatori" class="btn btn-success disabled evento-table-button">
									<span><i class="fa fa-plus"></i></span>
								</a>
							</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${#lists.size(eventoWrapper.investigatori) > 0}"
						th:attr="data-row-id=${__${status.index}__}"
						th:each="persona, status : ${eventoWrapper.investigatori}"
						th:class="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'investigatori['+__${status.index}__+']')} ? 'bad-row'">
						<td th:text="${persona.anagrafica.cognome}"></td>
						<td th:text="${persona.anagrafica.nome}"></td>
						<td th:text="${persona.anagrafica.codiceFiscale}"></td>
						<td th:text="${persona.qualifica}"></td>
						<td>
							<a th:unless="${isEventoIniziato}" onclick="modificaPersonaFrom('investigatori',this)" class="btn btn-warning btn-table single" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:unless="${isEventoIniziato}" onclick="removePersonaFromWithContainer('investigatoriContainer','investigatori',this)" class="btn btn-danger btn-table single" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-warning btn-table single disabled" th:text="#{label.modifica}">
								<span><i class="fa fa-pencil"></i></span>
							</a>
							<a th:if="${isEventoIniziato}" class="btn btn-danger btn-table single disabled" th:text="#{label.elimina}">
								<span><i class="fa fa-trash"></i></span>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
			</th:block>
		</th:block>
	</th:block>
	
</body>
</html>