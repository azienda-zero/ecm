<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorator="fragments/template">
<head lang="it">
</head>
<body>
	<th:block th:fragment="eventoFSCEdit">

		<div class="x_content">

			<!-- finestra modale di aggiunta attivitaRES a programma del Giorno -->
			<div id="add-attivitaFSC-modal" class="modal fade modal-add-attivitaFSC" data-model-index="1" role="dialog">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
							</button>
							<h4 class="modal-title" th:text="#{label.inserisci_attivita}">Inserisci attivita</h4>
						</div>
						<div class="modal-body" id="container-attivitaFSC">
							<form id="addAttivitaFSC" name="addAttivitaFSC" class="form-horizontal form-label-left"
									th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/addAttivitaTo|}"
									th:object="${eventoWrapper.tempAttivitaFSC}" method="post" enctype="multipart/form-data"
									novalidate="novalidate">

<!-- 								input hidden per poter riprendere il bean diversificato corretto -->
<!-- 								<input type="hidden" name="eventoWrapper_cId" th:value="${eventoWrapper_cId}"/> -->

									<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
											isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
											isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
											isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
											hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">

									<!-- AZIONE -->
									<div id="container-azione" class="item form-group">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="azione">
											<span id="azioneLabel" th:text="#{label.azione}">Azione</span>
											<span id="faseLabel" th:text="#{label.fase}">Fase</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group" id="azione">
											<input type="text" required="required" class="form-control"
												th:field="*{azione}" />
										</div>
									</div>

									<!-- OBIETTIVO FORMATIVO -->
									<div id="container-obiettivoFormativo" class="item form-group">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="obiettivoFormativo">
											<span th:text="#{label.obiettivo_formativo}">Obiettivo Formativo</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="obiettivoFormativo">
											<select
												class="selectpicker required selectObiettivoFormativo"
												th:field="*{obiettivoFormativo}"
												data-width="100%" data-style="btn-primary"
												data-actions-box="true" data-size="10"
												data-hide-disabled="false"
												title="Seleziona un obiettivo...">
												<option
													th:each="obiettivoFormativo, row: ${T(it.tredi.ecm.dao.enumlist.ObiettiviFormativiFSCEnum).values()}"
													th:value="${obiettivoFormativo}"
													th:text="${obiettivoFormativo.nome}">tipologia selezionata
												</option>
											</select>
										</div>
									</div>

									<!-- RISULTATI ATTESI -->
									<div id="container-risultatiAttesi" class="item form-group">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
											<span th:text="#{label.risultati_attesi}">Risultati Attesi</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group" id="azione">
											<input type="text" required="required" class="form-control"
												th:field="*{risultatiAttesi}" />
										</div>
									</div>

									<!-- METODO DI LAVORO -->
									<div id="container-metodiDiLavoro" class="item form-group">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="razionale">
											<span th:text="#{label.metodi_di_lavoro}">Metodo Lavoro</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
											<div class="checkbox" th:each="metodo, row : ${T(it.tredi.ecm.dao.enumlist.MetodoDiLavoroEnum).values()}">
												<label>
													<input type="checkbox" class="flat" th:field="*{metodiDiLavoro}" th:value="${metodo}" />
													<span th:text="${metodo.nome}"></span>
												</label>
											</div>
										</div>
									</div>

									<div class="divider-dashed"></div>

									<!-- <div id="container-ruoliCoinvolti" class="item form-group">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="ruoliCoinvolti">
											<span th:text="#{label.ruoli_coinvolti}">Ruoli Coinvolti</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="razionale">
											<div th:each="ruolo, row : ${T(it.tredi.ecm.dao.enumlist.RuoloFSCEnum).values()}">
												<div class="inner-ruoliCoinvolti">
													<div class="checkbox">
														<label>
															<input type="checkbox" class="flat" th:field="${eventoWrapper.mappaRuoloOre[__${ruolo}__].ruolo}" th:value="${ruolo}"  />
															<span th:text="${ruolo.nome}"></span>
														</label>
													</div>
													<div class="with-margin-top">
														<label class="control-label col-xs-2">
															<span th:text="#{label.ore}">Ore</span>
															<span class="required">*</span>
														</label>
														<div class="col-xs-10 z-index-top">
															<input class="form-control" type="text" pattern="numeric" th:field="${eventoWrapper.mappaRuoloOre[__${ruolo}__].tempoDedicato}" />
														</div>
													</div>
												</div>
											</div>
										</div>
									</div> -->
									<div id="container-ruoliCoinvolti" class="item form-group">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="ruoliCoinvolti">
											<span th:text="#{label.ruoli_coinvolti}">Ruoli Coinvolti</span>
										</label>
										<a id="add-ruolo" th:unless="${hasRiedizioni}" class="btn btn-success" th:title="#{label.inserisci_attivita}" data-toggle="modal" data-target=".modal-add-ruoloOreFSC">
											<span><i class="fa fa-plus"></i></span>
										</a>
										<a id="add-ruolo-disabled" th:if="${hasRiedizioni}" class="btn btn-success disabled" th:title="#{label.inserisci_attivita}">
											<span><i class="fa fa-plus"></i></span>
										</a>
										<div id="container-ruoloOreFSC" class="col-xs-offset-3 col-xs-9">
											<ul id="ruoloOreFSC" th:fragment="ruoloOreFSC">
												<li th:attr="data-row-id=${__${row.index}__}" th:each="ruoloOre, row : ${eventoWrapper.tempAttivitaFSC.ruoli}">
													<label class="control-label" th:text="${ruoloOre.ruolo?.nome} + ' (' + ${ruoloOre.tempoDedicato} + 'h)'"></label>
													<input type="hidden" th:field="${eventoWrapper.tempAttivitaFSC.ruoli[__${row.index}__].ruolo}" />
													<input type="hidden" th:field="${eventoWrapper.tempAttivitaFSC.ruoli[__${row.index}__].tempoDedicato}" />
													<a th:unless="${hasRiedizioni}" onclick="removeRuoloOreFSC(this)" class="btn btn-danger">
														<span><i class="fa fa-minus"></i></span>
													</a>
													<a th:if="${hasRiedizioni}" class="btn btn-danger disabled">
														<span><i class="fa fa-minus"></i></span>
													</a>
												</li>
											</ul>
										</div>
									</div>

									<!-- fragment da aggiornare -->
									<input id="targetTableAttivitaFSC" type="text" name="target" style="display: none;" />
									<!-- fase a cui agganciare l'attività -->
									<input id="addAttivitaTo" type="text" name="addAttivitaTo" style="display: none;" />

									<!-- rowIndex in modifica -->
									<input id="modificaElementoAttivitaFSC" name="modificaElemento" type="text" style="display: none;" />

									</th:block>
								</form>
							</div>
							<div class="modal-footer">
								<button type="button" onclick="closeModaleAddAttivitaTo()" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
								<label for="targetTableAttivitaFSC" class="btn btn-success pull-right" onclick="sendAjaxAddAttivitaToProgramma()" th:text="#{label.invia}">Invia</label>
							</div>
						</div>
					</div>
				</div>

				<!-- finestra modale di aggiunta ruoloOreFSC a tempAttivitaFSC -->
				<div id="add-ruoloOreFSC-modal" class="modal fade modal-add-ruoloOreFSC" data-model-index="2" role="dialog">
					<div class="modal-dialog modal-lg">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
								</button>
								<h4 class="modal-title" th:text="#{label.aggiungi_ruolo}">Aggiungi Ruolo</h4>
							</div>
							<div class="modal-body" th:fragment="addRuoloOreFSC">
								<form id="addRuoloOreFSC" name="addRuoloOreFSC" class="form-horizontal form-label-left"
										th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/addRuoloOreFSCTo|}"
										method="post" enctype="multipart/form-data"
										novalidate="novalidate">

<!-- 									input hidden per poter riprendere il bean diversificato corretto -->
<!-- 									<input type="hidden" name="eventoWrapper_cId" th:value="${eventoWrapper_cId}"/> -->

									<div id="container-ruoloFSC" class="item form-group tempRuoloOreFSC.ruolo">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="ruoloFSC">
											<span th:text="#{label.ruolo}">Ruolo</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="ruolo">
											<select id="addRuoloOreFSC-ruolo"
												class="selectpicker required selectRuolo"
												th:field="${eventoWrapper.tempRuoloOreFSC.ruolo}"
												data-width="100%" data-style="btn-primary"
												data-actions-box="true" data-size="10"
												data-hide-disabled="false"
												title="Seleziona un ruolo...">
												<option
													th:each="ruolo, row: ${T(it.tredi.ecm.dao.enumlist.RuoloFSCEnum).values()}"
													th:value="${ruolo}"
													th:text="${ruolo.nome}">Ruolo selezionato
												</option>
											</select>
										</div>
										<div class="alert col-xs-12 errorMessage"></div>
									</div>

									<div id="container-tempoDedicato" class="item form-group">
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="tempoDedicato">
											<span th:text="#{label.tempo_dedicato}">Tempo Dedicato</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group" id="azione">
											<input id="eventoTempoDedicato" type="number" min="0" oninput="validity.valid||(value='0');" pattern="numeric" class="form-control"
												th:field="${eventoWrapper.tempRuoloOreFSC.tempoDedicato}" />
										</div>
									</div>

									<!-- fragment da aggiornare -->
									<input id="targetTableAttivitaFSC" type="text" name="target" style="display: none;" />

								</form>
							</div>
							<div class="modal-footer">
								<button type="button" onclick="closeModaleAddRuoloOreFSCTo()" class="btn btn-primary" data-dismiss="modal" th:text="#{label.chiudi}">Chiudi</button>
								<label for="targetTableAttivitaFSC" class="btn btn-success pull-right" onclick="sendAjaxAddRuoloOreToTemp()" th:text="#{label.invia}">Invia</label>
							</div>
						</div>
					</div>
				</div>

			<form id="formEventoFSC" class="form-horizontal form-label-left form-evento"
				method="post" enctype="multipart/form-data" th:action="@{|/provider/${eventoWrapper.evento.provider.id}/evento/validate|}"
				novalidate="novalidate">

				<!-- input hidden -->
				<input type="hidden" name="editId" th:value="${eventoWrapper.evento.id}" />
				<input type="hidden" name="providerId" th:value="${eventoWrapper.providerId}" />
				<input type="hidden" name="proceduraFormativa" th:value="${eventoWrapper.proceduraFormativa}" />
				<!-- input hidden per poter riprendere il bean diversificato corretto -->
				<input type="hidden" name="eventoWrapper_cId" th:value="${eventoWrapper_cId}"/>

				<div id="eventoTabs" class="" role="tabpanel" data-example-id="togglable-tabs">
					<ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
						<li role="presentation" class="active presentation">
							<a href="#tab_content1" role="tab" id="tab1" data-toggle="tab" aria-expanded="true" th:text="#{label.sezione_1}">
								Sezione1
							</a>
						</li>
						<li role="presentation" class="presentation">
							<a href="#tab_content2" role="tab" id="tab2" data-toggle="tab" aria-expanded="false" th:text="#{label.sezione_2}">
								Sezione2
							</a>
						</li>
						<li role="presentation" class="presentation">
							<a href="#tab_content3" role="tab" id="tab3" data-toggle="tab" aria-expanded="false" th:text="#{label.sezione_3}">
								Sezione3
							</a>
						</li>
					</ul>
					<div id="myTabContent" class="tab-content">
						<div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="active-tab1">
							<div class="col-xs-12 section-index" id="section-1" th:fragment="section-1">

								<!-- TODO rimuovere -->
<!-- 								<div th:text="'MAPPA ERRORI VALIDAZIONE: '+${eventoWrapper.mappaErroriValidazione}"></div> -->

								<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
										isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
										hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">

								<!-- DENOMINAZIONE LEGALE PROVIDER -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>1</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="denominazioneProvider">
										<span th:text="#{label.denominazione_legale_provider}">Denominazione Legale del Provider</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="denominazioneProvider">
										<div class="value-edit" th:text="${eventoWrapper.evento.provider.denominazioneLegale}"></div>
									</div>
								</div>

								<!-- ID PROVIDER -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>2</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="idProvider">
										<span th:text="#{label.id_provider}">Id del Provider</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="idProvider">
										<div class="value-edit" th:text="${eventoWrapper.evento.provider.id}"></div>
									</div>
								</div>

								<!-- TIPOLOGIA EVENTO -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>3</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="proceduraFormativa">
										<span th:text="#{label.procedure_formative_tipologia}">Id del Provider</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="proceduraFormativa">
										<div class="value-edit" th:text="${eventoWrapper.evento.proceduraFormativa}"></div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- DESTINATARI EVENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.destinatariEvento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>4</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="destinatari">
										<span th:text="#{label.destinatari_evento}">Destinatari dell'Evento</span>
										<span class="required">*</span>
									</label>

									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="destinatari">
										<div class="checkbox" th:each="destinatario, row : ${T(it.tredi.ecm.dao.enumlist.DestinatariEventoEnum).values()}">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' :  ''">
													<input type="checkbox" class="flat destinatario" th:field="${eventoWrapper.evento.destinatariEvento}" th:value="${destinatario}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="${destinatario.nome}"></span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.destinatariEvento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.destinatariEvento')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- CONTENUTI EVENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.contenutiEvento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>5</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="contenuti">
										<span th:text="#{label.evento_contiene_questi_contenuti}">L'evento formativo prevedere i seguenti contenuti?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="contenuti">
										<div class="radio" th:each="contenuto, row : ${T(it.tredi.ecm.dao.enumlist.ContenutiEventoEnum).values()}">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' :  ''">
													<input type="radio" class="flat contenuto" th:field="${eventoWrapper.evento.contenutiEvento}" th:value="${contenuto}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="${contenuto.nome}"></span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.contenutiEvento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.contenutiEvento')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- TITOLO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.titolo')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>6</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="titolo">
										<span th:text="#{label.titolo}">Titolo</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="titolo">
										<textarea class="required form-control" maxlength="3000" id="title" rows="3" name="titolo"
												style="resize: none;" th:field="${eventoWrapper.evento.titolo}" th:disabled="${isRiedizione or isEditSemiBloccato}">
										</textarea>
											<div id="counter" th:unless="${isRiedizione or isEditSemiBloccato}"></div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.titolo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.titolo')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- BLOCCO INFO SEDE -->
								<div class="item form-group">
									<label class="col-xs-12">
										<span th:text="#{label.informazioni_sede}">Blocco sede</span>
									</label>
								</div>
								<!-- PROVINCIA -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.provincia')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>7</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="provincia">
										<span th:text="#{label.provincia}">Provincia</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="provincia"
											class="selectpicker required"
											th:field="${eventoWrapper.evento.sedeEvento.provincia}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
												data-hide-disabled="false" th:disabled="${isEditSemiBloccato}"
											title="Seleziona una provincia...">
											<option
												th:value="${eventoWrapper.evento.sedeEvento.provincia}"
												th:text="${eventoWrapper.evento.sedeEvento.provincia}">
											</option>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.provincia')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.sedeEvento.provincia')}__}"></div>
								</div>
								<!-- COMUNE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.comune')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>8</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="comune">
										<span th:text="#{label.comune}">Comune</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="comune"
											class="selectpicker required"
											th:field="${eventoWrapper.evento.sedeEvento.comune}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
												th:attr="data-editabile=${!isEditSemiBloccato}"
												th:disabled="${eventoWrapper.evento.sedeEvento.comune == null or isEditSemiBloccato}"
											title="Seleziona un comune...">
											<option th:value="${eventoWrapper.evento.sedeEvento.comune}"
												th:text="${eventoWrapper.evento.sedeEvento.comune}"/>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.comune')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.sedeEvento.comune')}__}"></div>
								</div>
								<!-- INDIRIZZO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.indirizzo')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>9</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="indirizzo">
										<span th:text="#{label.indirizzo}">Indirizzo</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="indirizzo">
											<input type="text" class="form-control" th:field="${eventoWrapper.evento.sedeEvento.indirizzo}" th:disabled="${isEditSemiBloccato}"/>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.indirizzo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.sedeEvento.indirizzo')}__}"></div>
								</div>
								<!-- LUOGO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.luogo')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>10</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="luogo">
										<span th:text="#{label.luogo}">Luogo</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="luogo">
											<input type="text" class="form-control" th:field="${eventoWrapper.evento.sedeEvento.luogo}" th:disabled="${isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sedeEvento.luogo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.sedeEvento.luogo')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- DATA INIZIO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataInizio')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>11</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="dataInizio">
										<span th:text="#{label.data_inizio}">Data inizio</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group datapick">
										<input type="text" id="dataInizio" class="form-control"
												name="data" th:field="${eventoWrapper.evento.dataInizio}" th:disabled="${isEditSemiBloccato}" />
											<span th:unless="${isEditSemiBloccato}"  class="input-group-addon" id="dataInizio" onclick="$('#dataInizio').click()">
					 							<i class="glyphicon glyphicon-calendar"></i>
											</span>
											<span th:if="${isEditSemiBloccato}" class="input-group-addon disabled-addon" id="dataInizio">
				 							<i class="glyphicon glyphicon-calendar"></i>
										</span>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataInizio')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.dataInizio')}__}"></div>
								</div>

								<!-- DATA FINE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataFine')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>12</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="dataFine">
										<span th:text="#{label.data_fine}">Data fine</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12 input-group datapick">
										<input type="text" id="dataFine" class="form-control"
												name="data" th:field="${eventoWrapper.evento.dataFine}" th:disabled="${isEditSemiBloccato}" />
											<span th:unless="${isEditSemiBloccato}" class="input-group-addon" id="dataFineButton" onclick="$('#dataFine').click()">
					 							<i class="glyphicon glyphicon-calendar"></i>
											</span>
											<span th:if="${isEditSemiBloccato}" class="input-group-addon disabled-addon" id="dataFineButton">
				 							<i class="glyphicon glyphicon-calendar"></i>
										</span>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.dataFine')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.dataFine')}__}"></div>
								</div>

								<!-- OBIETTIVO NAZIONALE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoNazionale')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>13</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="obiettivoNazionale">
										<span th:text="#{label.obiettivo_strategico_nazionale}">Obiettivo Strategico Nazionale</span>
										<span class="required">*</span>
									</label>
									<th:block th:unless="${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')}">
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
											<select id="obiettivoNazionale"
												class="selectpicker required"
												th:field="${eventoWrapper.evento.obiettivoNazionale}"
												data-width="100%" data-style="btn-primary"
												data-actions-box="true" data-size="10"
												data-hide-disabled="false"
													title="Seleziona un obiettivo..." th:disabled="${isRiedizione or isFromPianoFormativo or isEditSemiBloccato}">
												<optgroup class="optgroup-primary"
													th:each="categoriaObiettivoNazionale, row: ${T(it.tredi.ecm.dao.enumlist.CategoriaObiettivoNazionale).values()}"
													th:label="${categoriaObiettivoNazionale.nome}"
													th:remove="all-but-first">
													<option
														th:each="obiettivoNazionale, row: ${eventoWrapper.obiettiviNazionali}"
														th:if="${obiettivoNazionale.categoria == categoriaObiettivoNazionale}"
														th:value="${obiettivoNazionale.id}"
														th:text="${obiettivoNazionale.nome}">
													</option>
												</optgroup>
											</select>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoNazionale')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.obiettivoNazionale')}__}"></div>
										<div class="col-xs-1">
											<div th:attr="data-original-title=#{label.info_tooltip_obiettivo_nazionale}" class="btn btn-default no-margin cursor-default" data-toggle="tooltip" data-placement="top"><i class="fa fa-info-circle"></i></div>
										</div>
									</th:block>
									<th:block th:if="${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')}">
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
											<div th:text="${eventoWrapper.evento.obiettivoNazionale.nome}" class="value-edit"></div>
										</div>
									</th:block>
								</div>

								<!-- OBIETTIVO REGIONALE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoRegionale')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>14</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="obiettivorRegionale">
										<span th:text="#{label.obiettivo_strategico_regionale}">Obiettivo Strategico Regionale</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="obiettivoRegionale"
											class="selectpicker required"
											th:field="${eventoWrapper.evento.obiettivoRegionale}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
												title="Seleziona un obiettivo..." th:disabled="${isRiedizione or isEditSemiBloccato}">
											<option
												th:each="obiettivoRegionale, row: ${eventoWrapper.obiettiviRegionali}"
												th:value="${obiettivoRegionale.id}"
												th:text="${obiettivoRegionale.nome}">
											</option>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.obiettivoRegionale')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.obiettivoRegionale')}__}"></div>
								</div>

								<!-- PROFESSIONI/DISCIPLINE -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')} ? 'bad'">
										<label class="control-label col-xs-1">
											<span>15</span>
										</label>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.professioni}">Professioni</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="evento_professioni-select">
											<select id="professioni" class="selectpicker multi"
												multiple="multiple" data-width="100%"
												data-style="btn-primary" data-actions-box="true"
												data-size="10" title="Seleziona una professione..."
												onchange="abilitaDiscipline(this)" th:disabled="${isRiedizione or isEditSemiBloccato}"
												data-selected-text-format="count" th:remove="all-but-first">
												<option th:each="professione, row: ${eventoWrapper.professioneList}"
													th:value="${professione.id}" th:text="${professione.nome}"
													th:field="${eventoWrapper.evento.professioniSelezionate}"></option>
											</select>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.discipline')}__}"></div>
									</div>
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.discipline}">Discipline</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<select id="discipline" class="selectpicker multi"
												th:field="${eventoWrapper.evento.discipline}"
												multiple="multiple" data-width="100%"
												data-style="btn-success" data-actions-box="true"
												data-size="10" data-hide-disabled="true"
												th:attr="data-editabile=${!isRiedizione and !isEditSemiBloccato}"
												title="Seleziona una disciplina..." disabled="disabled"
												data-selected-text-format="count" th:remove="all-but-first">
												<optgroup class="optgroup-success" disabled="disabled"
													th:each="professione, row: ${eventoWrapper.professioneList}" th:unless="${professione.nome == 'Nessuna professione sanitaria'}"
													th:label="${professione.nome}" th:remove="all-but-first">
													<option th:each="disciplina, row: ${eventoWrapper.disciplinaList}"
														th:if="${disciplina.professione == professione}"
														th:value="${disciplina.id}" th:text="${disciplina.nome}"></option>
												</optgroup>
											</select>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.discipline')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.discipline')}__}"></div>
									</div>

								<!-- BLOCCO TIPOLOGIA DI EVENTO -->
								<!-- TIPOLOGIA DELL'EVENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaEventoFSC')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>16</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="tipologiaEventoFSC">
										<span th:text="#{label.tipologia_evento}">Tipologia dell'evento</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="tipologiaEventoId"
											class="selectpicker required"
											required="required"
											th:field="${eventoWrapper.evento.tipologiaEventoFSC}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
											data-hide-disabled="false"
											onchange="updateRuoliCoinvolti()"
												title="Seleziona una tipologia FSC..." th:disabled="${isRiedizione or isEditSemiBloccato or hasRiedizioni}">
											<option
												th:each="tipologia, row: ${T(it.tredi.ecm.dao.enumlist.TipologiaEventoFSCEnum).values()}"
												th:value="${tipologia}"
												th:text="${tipologia.nome}">
											</option>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaEventoFSC')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.tipologiaEventoFSC')}__}"></div>
								</div>
								<!-- Tipologia di gruppo (attivo se selezionato tipologiaEventoFSC=GRUPPI_DI_MIGLIORAMENTO) -->
								<div class="item form-group tipologiaGruppo" style="display: none;" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaGruppo')} ? 'bad'">
									<div class="col-xs-1"></div>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.eventofsc_tipologiaGruppo}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="tipologiaGruppo"
											class="selectpicker"
											th:field="${eventoWrapper.evento.tipologiaGruppo}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
												data-hide-disabled="false" th:disabled="${isRiedizione or isEditSemiBloccato}"
											title="Seleziona una tipologia di gruppo...">
											<option
												th:each="tipologia, row: ${T(it.tredi.ecm.dao.enumlist.TipologiaGruppoFSCEnum).values()}"
												th:value="${tipologia}"
												th:text="${tipologia.nome}">
											</option>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaGruppo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.tipologiaGruppo')}__}"></div>
								</div>

								<!-- Tipologia di Sperimentazione (attivo se tipologiaEventoFSC=ATTIVITA_DI_RICERCA) -->
								<div class="item form-group tipologiaSperimentazione" style="display: none;" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaSperimentazione')} ? 'bad'">
									<div class="col-xs-1"></div>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.eventofsc_tipologiaAttivitaDiRicerca}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<select id="tipologiaSperimentazione"
											class="selectpicker"
											th:field="${eventoWrapper.evento.tipologiaSperimentazione}"
											data-width="100%" data-style="btn-primary"
											data-actions-box="true" data-size="10"
												data-hide-disabled="false" th:disabled="${isRiedizione or isEditSemiBloccato}"
											title="Seleziona una tipologia di attività di ricerca...">
											<option
												th:each="tipologia, row: ${T(it.tredi.ecm.dao.enumlist.TipologiaSperimentazioneFSCEnum).values()}"
												th:value="${tipologia}"
												th:text="${tipologia.nome}">
											</option>
										</select>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.tipologiaSperimentazione')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.tipologiaSperimentazione')}__}"></div>
								</div>

								<!-- Sperimentazione clinica (attivo se tipologiaEventoFSC=ATTIVITA_DI_RICERCA) -->
								<div class="item form-group sperimentazioneClinica" style="display: none;" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sperimentazioneClinica')} ? 'bad'">
									<div class="col-xs-1"></div>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.eventofsc_sperimentazioneClinica}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' :  ''">
													<input id="sperimentazioneClinicaSiId" th:disabled="${isRiedizione or isEditSemiBloccato}" type="radio" class="flat sperimentazioneClinica" th:field="${eventoWrapper.evento.sperimentazioneClinica}" th:value="${true}"/>
													<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' :  ''">
													<input id="sperimentazioneClinicaNoId" th:disabled="${isRiedizione or isEditSemiBloccato}" type="radio" class="flat sperimentazioneClinica" th:field="${eventoWrapper.evento.sperimentazioneClinica}" th:value="${false}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sperimentazioneClinica')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.sperimentazioneClinica')}__}"></div>
								</div>
								<!-- Ottenuto il parere del comitato etico (attivo se sperimentazioneClinica=true) -->
								<div class="item form-group ottenutoComitatoEtico" style="display: none;" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.ottenutoComitatoEtico')} ? 'bad'">
									<div class="col-xs-1"></div>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.eventofsc_ottenutoComitatoEtico}"></span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="checkbox">
										<label>
												<input class="flat" id="abilitaSediFull" type="checkbox" th:field="${eventoWrapper.evento.ottenutoComitatoEtico}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}"/>
										</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.ottenutoComitatoEtico')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.ottenutoComitatoEtico')}__}"></div>
								</div>

								<!-- RESPONSABILI/ESPERTI/COORDINATORI versione evento = 2 AND non "Attività di ricerca"-->
								<div id="resp_esp_coord_intesta" class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabili')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>17</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="responsabili">
										<span th:text="#{label.responsabili_scientifici_esperti_coordinatori}">Responsabili scientifici / Esperti / Coordinatori</span>
									</label>
								</div>

								<!-- RESPONSABILI/ESPERTI/COORDINATORI/INVESTIGATORI versione evento = 2 AND "Attività di ricerca"-->
								<div id="resp_esp_coord_invest_intesta" class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabili')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>17</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="responsabili">
										<span th:text="#{label.responsabili_scientifici_esperti_coordinatori_investigatori}">Responsabili scientifici / Esperti / Coordinatori / Investigatori</span>
									</label>
								</div>

								<!-- RESPONSABILI versione evento = 1 e 2 -->
								<div class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabili')} ? 'bad'">
									<label class="control-label col-xs-1">
										<!-- il numero viene mostrato in versione evento = 1 -->
										<span id="resp_sci_num_campo">17</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="responsabili">
										<span th:text="#{label.responsabili_scientifici}">Responsabili scientifici</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabili')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.responsabili')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div id="responsabiliScientificiContainer" class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: responsabiliScientifici" />
										</div>
									</div>
								</div>

								<!-- ESPERTI -->
								<div id="esperti_block" class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.esperti')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span></span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="esperti">
										<span th:text="#{label.esperti}">Esperti</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.esperti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.esperti')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div id="espertiContainer" class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: esperti" />
										</div>
									</div>
								</div>

								<!-- COORDINATORI -->
								<div id="coordinatori_block" class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.coordinatori')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span></span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="coordinatori">
										<span th:text="#{label.coordinatori}">Coordinatori</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.coordinatori')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.coordinatori')}__}"></div>
									<div class="item alert-tabella-evento bad">
										<div class="alert warning" th:text="#{message.coordinatori_massimo_3_no_docenza_no_crediti}"></div>
									</div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div id="coordinatoriContainer" class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: coordinatori" />
										</div>
									</div>
								</div>

								<!-- INVESTIGATORI -->
								<div id="investigatori_block" class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.investigatori')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span></span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="investigatori">
										<span th:text="#{label.investigatori}">Investigatori</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.investigatori')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.investigatori')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div id="investigatoriContainer" class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: investigatori" />
										</div>
									</div>
								</div>

								</th:block>
							</div>
						</div>
						<div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="tab2">
							<div class="col-xs-12 section-index" id="section-2" th:fragment="section-2">

								<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
										isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
										hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">

								<!-- DESCRIZIONE DEL PROGETTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.descrizioneProgetto')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>18</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="descrizione_progetto">
										<span th:text="#{label.descrizione_del_progetto}">Descrizione del progetto e rilevanza formativa</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="descrizione_progetto">
										<textarea rows="6" class="form-control" th:field="${eventoWrapper.evento.descrizioneProgetto}" th:disabled="${isRiedizione or isEditSemiBloccato}"></textarea>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.descrizioneProgetto')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.descrizioneProgetto')}__}"></div>
								</div>

								<th:block th:if="${eventoWrapper.evento.tipologiaEventoFSC == T(it.tredi.ecm.dao.enumlist.TipologiaEventoFSCEnum).PROGETTI_DI_MIGLIORAMENTO}">

									<!-- SELEZIONE FASI DA INSERIRE -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.fasiDaInserire')} ? 'bad'">
										<label class="control_label col-md-4 col-sm-4 col-xs-11">
											<span th:text="#{label.selezionare_le_fasi_da_inserire}">Selezionare le fasi da inserire</span>
										</label>
										<div class="col-md-4 col-sm-4 col-xs-12">
											<div class="radio" th:each="fasiDaInserire, row : ${T(it.tredi.ecm.dao.enumlist.ProgettiDiMiglioramentoFasiDaInserireFSCEnum).values()}">
													<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' :  ''">
														<input type="radio" class="flat fasiDaInserire" th:field="${eventoWrapper.evento.fasiDaInserire}" th:value="${fasiDaInserire}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
													<span th:text="${fasiDaInserire.nome}"></span>
												</label>
											</div>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.fasiDaInserire')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.fasiDaInserire')}__}"></div>
									</div>

									<div class="divider-dashed"></div>

								</th:block>

								<!-- errori partecipanti/tutor -->
								<h2 th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.fasiAzioniRuoli')}"
									class="col-xs-12 alert alert-danger with-margin-top text-center"
									th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.fasiAzioniRuoli')}__}"></h2>

								<!-- FASI AZIONI RUOLI -->
								<div class="item form-group">
									<label class="col-xs-12">
										<span th:text="#{label.fasi_azioni_ruoli}">Fasi/Azioni/Ruoli coninvolti</span>
									</label>
									<div class='programmaEvento item form-group' id="programma">
										<th:block th:include="evento/eventoEdit :: attivitaFSC" />
									</div>
								</div>

								<!-- BROCHURE EVENTO -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>19</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="brochure">
										<span th:text="#{label.brochure_evento}">Brochure dell'evento</span>
										<span class="required hidden" id="brochure-obbligatoria">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, brochure, null, null, null, false, null, false)" ></th:block> -->
											<th:block th:unless="${isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_BROCHURE_EVENTO}', brochure, null, null, null, false, 'edit', false)" ></th:block>
											<th:block th:if="${isEditSemiBloccato}">
												<div class="value-edit" th:if="${eventoWrapper.evento.brochureEvento != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.brochureEvento.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.brochureEvento.id}|}"></a></div>
												<div class="value-edit danger" th:unless="${eventoWrapper.evento.brochureEvento != null}" th:text="#{label.allegato_non_inserito}"></div>
											</th:block>
									</div>
								</div>

								</th:block>
							</div>
						</div>
						<div role="tabpanel" class="tab-pane fade" id="tab_content3" aria-labelledby="tab3">
							<div class="col-xs-12 section-index" id="section-3" th:fragment="section-3">

								<th:block th:with="isRiedizione=${eventoWrapper.evento.isRiedizione() and !#authentication.principal.account.isSegreteria()},
										isFromPianoFormativo=${eventoWrapper.evento.isEventoDaPianoFormativo() and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEditSemiBloccato=${eventoWrapper.editSemiBloccato and !#authentication.principal.hasProfile('SEGRETERIA')},
										isEventoIniziato=${eventoWrapper.eventoIniziato and !#authentication.principal.hasProfile('SEGRETERIA')},
										hasRiedizioni=${eventoWrapper.hasRiedizioni and !#authentication.principal.hasProfile('SEGRETERIA')}">

								<!-- RUOLI COINVOLTI -->
								<div class="item form-group">
									<label class="control-label col-xs-1">
										<span>20</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="ruoliCoinvolti">
										<span th:text="#{label.ruoli_coinvolti}">Ruoli Coinvolti</span>
										<span class="required">*</span>
									</label>
									<div class="item alert-tabella-evento form-group no-margin" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.riepilogoRuoli')} ? 'bad'">
										<div class="col-lg-5 col-md-7 col-sm-8 col-xs-12"></div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.riepilogoRuoli')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.riepilogoRuoli')}__}"></div>
									</div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div class="col-xs-offset-1 col-xs-10">
											<table id="dt-riepilogoFSC" class="datatable-responsive-riepilogo no-order table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%"
												th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.riepilogoRuoli')} ? 'bad-table'">
												<thead>
													<tr>
														<th th:text="#{label.ruolo}"></th>
														<th th:text="#{label.codifica}"></th>
														<th th:text="#{label.numero_partecipanti}"></th>
														<th th:text="#{label.impegno_complessivo_ore}"></th>
														<th th:text="#{label.crediti}"></th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="riepilogo , r : ${eventoWrapper.riepilogoRuoliFSC}"
														th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'riepilogoRuoliFSC['+riepilogo.key+']')} ? 'bad-row'">
														<td th:text="${riepilogo.value.ruolo?.nome}"></td>
														<td th:unless="${riepilogo.value.ruolo?.ruoloBase == null} or not ${eventoWrapper.fscShowCodificaRuoloXml(riepilogo.value.ruolo)}" th:text="${riepilogo.value.ruolo?.ruoloBase.codifica}"></td>
														<td th:if="${riepilogo.value.ruolo?.ruoloBase == null} or not ${eventoWrapper.fscShowCodificaRuoloXml(riepilogo.value.ruolo)}"></td>
														<td th:unless="${riepilogo.key == null}">
																<input class="form-control" type="number" min="0" oninput="validity.valid||(value='0');" step="any" th:field="${eventoWrapper.riepilogoRuoliFSC[__${riepilogo.key}__]?.numeroPartecipanti}" th:disabled="${isEditSemiBloccato or (isRiedizione
																		and (eventoWrapper.evento.tipologiaEventoFSC == T(it.tredi.ecm.dao.enumlist.TipologiaEventoFSCEnum).TRAINING_INDIVIDUALIZZATO
																			or eventoWrapper.evento.tipologiaEventoFSC == T(it.tredi.ecm.dao.enumlist.TipologiaEventoFSCEnum).GRUPPI_DI_MIGLIORAMENTO))}" />
														</td>
														<td th:if="${riepilogo.key == null}"></td>
														<td th:text="${riepilogo.value?.tempoDedicato}"></td>
														<td th:text="${riepilogo.value?.crediti}"></td>
													</tr>
												</tbody>
											</table>
										</div>
										<div class="col-xs-1" th:if="${eventoWrapper.evento.tipologiaEventoFSC == T(it.tredi.ecm.dao.enumlist.TipologiaEventoFSCEnum).TRAINING_INDIVIDUALIZZATO}">
											<div th:attr="data-original-title=#{label.info_tooltip_numero_partecipanti_fsc}" class="btn btn-default no-margin cursor-default" data-toggle="tooltip" data-placement="top"><i class="fa fa-info-circle"></i></div>
										</div>
									</div>
								</div>

<!-- 								NUMERO PARTECIPANTI  (autocompilato al salvataggio && solo in show) -->
<!-- 								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.numeroPartecipanti')} ? 'bad'"> -->
<!-- 									<label class="control-label col-xs-1"> -->
<!-- 										<span>21</span> -->
<!-- 									</label> -->
<!-- 									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="numeroPartecipanti"> -->
<!-- 										<span th:text="#{label.numero_partecipanti}">Numero dei partecipanti</span> -->
<!-- 										<span class="required">*</span> -->
<!-- 									</label> -->
<!-- 									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="numeroPartecipanti"> -->
<!-- 										<input type="text" pattern="numeric" class="form-control optional" th:field="${eventoWrapper.evento.numeroPartecipanti}" /> -->
<!-- 									</div> -->
<!-- 									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.numeroPartecipanti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.numeroPartecipanti')}__}"></div> -->
<!-- 								</div> -->

								<!-- DURATA  -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.durata')} ? 'bad'">
				 					<label class="control-label col-xs-1">
				 						<span>21</span>
				 					</label>
				 					<label class="control-label col-md-3 col-sm-3 col-xs-11" for="durata">
				 						<span th:text="#{label.durata}">Durata</span>
				 					</label>
				 					<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="durata">
				 						<div class="value-edit" th:text="${T(it.tredi.ecm.utils.Utils).formatOrario( eventoWrapper.evento.durata != null ? eventoWrapper.evento.durata : 0)}"></div>
				 					</div>
				 					<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.durata')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.durata')}__}"></div>
				 				</div>

								<!-- CREDITI FORMATIVI PROPOSTI-->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.crediti')} ? 'bad'">
										<label class="control-label col-xs-1">
											<span>22</span>
										</label>
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="creditiFormativi">
											<span th:text="#{label.crediti_formativi_proposti_dal_sistema}">Crediti Fromativi proposti dal sistema</span>
											<span class="required">*</span>
										</label>
										<div class="col-xs-5" id="creditiFormativi">
											<span class="value-edit" th:text="${eventoWrapper.creditiProposti}"></span>
											<span class="checkbox">
											<label>
												<input type="checkbox" class="flat crediti-conferma" th:field="${eventoWrapper.evento.confermatiCrediti}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.conferma_crediti_proposti_dal_sistema}"></span>
											</label>
											</span>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.crediti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.crediti')}__}"></div>
									</div>

									<!-- CREDITI FORMATIVI INSERITI DALL'UTENTE-->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.crediti')} ? 'bad'">
										<label class="control-label col-xs-1">
											<span>23</span>
										</label>
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="creditiFormativi">
											<span th:text="#{label.crediti_formativi_attribuiti_utente}">Crediti attribuiti all'evento dall'utente</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="creditiFormativi">
											<input type="number" min="0" oninput="validity.valid||(value='0');" step="any" class="form-control crediti-proposti" th:field="${eventoWrapper.evento.crediti}" th:disabled="${isRiedizione or isEditSemiBloccato}" th:attr="data-editabile=${!isRiedizione and !isEditSemiBloccato}" />
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.crediti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.crediti')}__}"></div>
									</div>

									<!-- MOTIVAZIONE CREDITI FORMATIVI INSERITI DALL'UTENTE -->
									<div class="item form-group motivazione-crediti" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.motivazioneCrediti')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11" for="motivazioneCrediti">
											<span th:text="#{label.crediti_formativi_attribuiti_utente_motivazione}">Motivazione Crediti attribuiti all'evento dall'utente</span>
											<span class="required">*</span>
										</label>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="motivazioneCrediti">
											<textarea rows="10" class="form-control motivazioneCrediti" th:field="${eventoWrapper.evento.motivazioneCrediti}" th:disabled="${isRiedizione or isEditSemiBloccato}"></textarea>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.motivazioneCrediti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.motivazioneCrediti')}__}"></div>
									</div>

								<div class="divider-dashed"></div>

								<!-- VERIFICA PRESENZA PARTECIPANTI -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.verificaPresenzaPartecipanti')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>24</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="verificaPresenzaPartecipanti">
										<span th:text="#{label.verifica_presenza_partecipanti}">Verifica presenza partecipanti</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12" id="verificaPresenzaPartecipanti">
										<div class="checkbox" th:each="modalita, row : ${T(it.tredi.ecm.dao.enumlist.VerificaPresenzaPartecipantiEnum).values()}">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.verificaPresenzaPartecipanti}" th:value="${modalita}" th:disabled="${isRiedizione or isEditSemiBloccato}"/>
												<span th:text="${modalita.nome}"></span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.verificaPresenzaPartecipanti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.verificaPresenzaPartecipanti')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- VERIFICA APPRENDIMENTO PARTECIPANTI -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.verificaApprendimento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>25</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="verificaApprendimentoPartecipanti">
										<span th:text="#{label.verifica_apprendimento_partecipanti}">Verifica Apprendimento partecipanti</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
										<div class="checkbox" th:each="modalita, row : ${T(it.tredi.ecm.dao.enumlist.VerificaApprendimentoFSCEnum).values()}">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.verificaApprendimento}" th:value="${modalita}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="${modalita.nome}"></span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.verificaApprendimento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.verificaApprendimento')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- INDICATORE EFFICACIA -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.indicatoreEfficaciaFormativa')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>26</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="indicatore">
										<span th:text="#{label.indicatore_efficacia}">Indicatori per misurare l’efficacia formativa del progetto</span>
										<span class="indicatoreObbligatorio required" style="display: none;">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11" id="indicatore">
											<input type="text" class="form-control" th:field="${eventoWrapper.evento.indicatoreEfficaciaFormativa}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.indicatoreEfficaciaFormativa')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.indicatoreEfficaciaFormativa')}__}"></div>
								</div>

								<!-- RESPONSABILE SEGRETERIA ORGANIZZATIVA -->
								<div class="item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabileSegreteria')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>27</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="responsabileSegreteria">
										<span th:text="#{label.responsabile_segreteria_organizzativa}">Responsabile segreteria organizzativa</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.responsabileSegreteria')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.responsabileSegreteria')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div id="responsabileSegreteriaContainer" class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: responsabileSegreteria" />
										</div>
									</div>
								</div>

								<!-- QUOTA PARTECIPAZIONE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.quotaPartecipazione')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>28</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="quota">
										<span th:text="#{label.quota_partecipazione}">Quota di partecipazione</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11" id="quota">
											<input type="number" min="0" oninput="validity.valid||(value='0');" step="any" class="form-control optional" th:field="${eventoWrapper.evento.quotaPartecipazione}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.quotaPartecipazione')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.quotaPartecipazione')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- SPONSOR BLOCCO -->
								<!-- RADIO SPONSOR -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzato')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>29</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.evento_sponsorizzato_radio}">L'Evento è sponsorizzato?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat sponsor" th:field="${eventoWrapper.evento.eventoSponsorizzato}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat sponsor" th:field="${eventoWrapper.evento.eventoSponsorizzato}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzato')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.eventoSponsorizzato')}__}"></div>
								</div>
								<div class="sponsor-si">
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.letteInfoAllegatoSponsor')} ? 'bad'">
										<div class="control-label col-md-4 col-sm-4 col-xs-12"></div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<div class="checkbox">
													<label class="${isEditSemiBloccato} ? 'label-disabled' : ''">
														<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.letteInfoAllegatoSponsor}" th:value="${true}" th:disabled="${isEditSemiBloccato}" />
													<span th:text="#{label.info_sponsor_evento}"></span>
													<span class="required">*</span>
												</label>
											</div>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.letteInfoAllegatoSponsor')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.letteInfoAllegatoSponsor')}__}"></div>
									</div>
									<div class="no-padding item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sponsors')} ? 'bad'">
										<div class="col-lg-9 col-md-11 col-sm-11 col-xs-12"></div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.sponsors')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.sponsors')}__}"></div>
										<div class="item form-group" style="clear:both; padding:2px;"></div>
										<div class="item form-group" style="clear:both">
											<div class="col-xs-offset-1 col-xs-10">
												<th:block th:include="evento/eventoEdit :: sponsors" />
											</div>
										</div>
									</div>
								</div>

								<div class="divider-dashed numVers2"></div>

								<!-- SEZIONE PORTATA FUORI CON NUMERAZIONE PROPRIA -->
								<div class="no-padding infanzia-sponsor-radio item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span class="numVers1"></span><span class="numVers2">30</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.evento_sponsorizzato_infanzia_radio}">L’evento è sponsorizzato da aziende che trattano alimenti per la prima infanzia?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat sponsor-infanzia" th:field="${eventoWrapper.evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}"/>
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat sponsor-infanzia" th:field="${eventoWrapper.evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}"/>
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.eventoSponsorizzatoDaAziendeAlimentiPrimaInfanzia')}__}"></div>
								</div>
								<div class="no-padding infanzia-sponsor-si">
									<!-- ALLEGATO AUTOCERTIFICAZIONE AUTORIZZAZIONE MINISTERO SALUTE -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAutorizzazioneMinisteroSalute')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.allegato_autocertificazione_autorizzazione_ministero}">Autocertificazione di autorizzazione del Ministero della Salute</span>
											<span class="required">*</span>
										</label>
											<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
											<i class="fa fa-file-text"></i>
											<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=1550089&amp;name=DLFE-29212.docx"></a>
										</div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, autocertificazioneAutorizzazioneMinisteroSalute, null, null, null, true, null, false)" ></th:block> -->
												<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_AUTOCERTIFICAZIONE_AUTORIZZAZIONE_MINISTERO_SALUTE}', autocertificazioneAutorizzazioneMinisteroSalute, null, null, null, true, 'edit', false)" ></th:block>
												<th:block th:if="${isRiedizione or isEditSemiBloccato}">
													<div class="value-edit" th:if="${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute.id}|}"></a></div>
													<div class="value-edit danger" th:unless="${eventoWrapper.evento.autocertificazioneAutorizzazioneMinisteroSalute != null}" th:text="#{label.allegato_non_inserito}"></div>
												</th:block>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAutorizzazioneMinisteroSalute')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('autocertificazioneAutorizzazioneMinisteroSalute')}__}"></div>
									</div>
								</div>
								<div class="no-padding infanzia-sponsor-no">
									<!-- ALLEGATO AUTOCERTIFICAZIONE ASSENZA PARTECIPAZIONE SPONSOR INFANZIA -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.allegato_autocertificazione_assenza_finanziamenti_sponsor}">Autocertificazione relativa all'assenza di partecipazione finanziaria di imprese interessate agli alimenti per la prima infanzia</span>
											<span class="required">*</span>
										</label>
											<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
											<i class="fa fa-file-text"></i>
											<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=1550089&amp;name=DLFE-29210.docx"></a>
										</div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia, null, null, null, true, null, false)" ></th:block> -->
												<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_AUTOCERTIFICAZIONE_ASSENZA_PARTECIPAZIONE_SPONSOR_INFANZIA}', autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia, null, null, null, true, 'edit', false)" ></th:block>
												<th:block th:if="${isRiedizione or isEditSemiBloccato}">
													<div class="value-edit" th:if="${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia.id}|}"></a></div>
													<div class="value-edit danger" th:unless="${eventoWrapper.evento.autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia != null}" th:text="#{label.allegato_non_inserito}"></div>
												</th:block>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('autocertificazioneAssenzaAziendeAlimentiPrimaInfanzia')}__}"></div>
									</div>
								</div>
								<!-- SEZIONE PORTATA FUORI CON NUMERAZIONE PROPRIA -->

								<div class="divider-dashed"></div>

								<!-- FORME FINANZIAMENTO BLOCCO -->
								<!-- RADIO FORME FINANZIAMENTO -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.altreFormeFinanziamento')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span class="numVers1">30</span><span class="numVers2">31</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.forme_finanziamento_radio}">Sono presenti forme di finanziamento?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat finanziamento" th:field="${eventoWrapper.evento.altreFormeFinanziamento}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat finanziamento" th:field="${eventoWrapper.evento.altreFormeFinanziamento}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.altreFormeFinanziamento')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.altreFormeFinanziamento')}__}"></div>
								</div>
								<div class="no-padding finanziamento-si" style="display: none;">
									<!-- ALLEGATO CONTRATTI/ACCORDI/CONVENZIONI -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'contrattiAccordiConvenzioni')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.allegato_contratti_accordi_convenzioni}">Allegato Contratti Accordi Convenzioni</span>
											<span class="required">*</span>
										</label>
										<!-- div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
											<i class="fa fa-file-text"></i>
											<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=1550089&amp;name=DLFE-29211.docx"></a>
										</div-->
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, contrattiAccordiConvenzioni, null, null, null, true, null, false)" ></th:block> -->
												<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_CONTRATTI_ACCORDI_CONVENZIONI}', contrattiAccordiConvenzioni, null, null, null, true, 'edit', false)" ></th:block>
												<th:block th:if="${isRiedizione or isEditSemiBloccato}">
													<div class="value-edit" th:if="${eventoWrapper.evento.contrattiAccordiConvenzioni != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.contrattiAccordiConvenzioni.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.contrattiAccordiConvenzioni.id}|}"></a></div>
													<div class="value-edit danger" th:unless="${eventoWrapper.evento.contrattiAccordiConvenzioni != null}" th:text="#{label.allegato_non_inserito}"></div>
												</th:block>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'contrattiAccordiConvenzioni')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('contrattiAccordiConvenzioni')}__}"></div>
									</div>
								</div>
								<div class="no-padding finanziamento-no" style="display: none;">
									<!-- ALLEGATO AUTOCERTIFICAZIONE ASSENZA FINANZIAMENTI -->
									<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaFinanziamenti')} ? 'bad'">
										<div class="col-xs-1"></div>
										<label class="control-label col-md-3 col-sm-3 col-xs-11">
											<span th:text="#{label.allegato_autocertificazione_assenza_finanziamenti}">Allegato autocertificazione assenza finanziamenti</span>
											<span th:unless="${eventoWrapper.evento.provider.isGruppoA()}" class="required">*</span>
										</label>
											<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
											<i class="fa fa-file-text"></i>
											<a class="autocertificazione_modello" target="_blank"  th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=1550089&amp;name=DLFE-29211.docx"></a>
										</div>
										<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
											<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, autocertificazioneAssenzaFinanziamenti, null, null, null, true, null, false)" ></th:block> -->
												<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_AUTOCERTIFICAZIONE_ASSENZA_FINANZIAMENTI}', autocertificazioneAssenzaFinanziamenti, null, null, null, true, 'edit', false)" ></th:block>
												<th:block th:if="${isRiedizione or isEditSemiBloccato}">
													<div class="value-edit" th:if="${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti.id}|}"></a></div>
													<div class="value-edit danger" th:unless="${eventoWrapper.evento.autocertificazioneAssenzaFinanziamenti != null}" th:text="#{label.allegato_non_inserito}"></div>
												</th:block>
										</div>
										<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'autocertificazioneAssenzaFinanziamenti')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('autocertificazioneAssenzaFinanziamenti')}__}"></div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- BLOCCO PARTNER -->
								<!-- RADIO PARTNER -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoAvvalePartner')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span class="numVers1">31</span><span class="numVers2">32</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.si_avvale_di_partner}">L’evento si avvale di partner?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-11">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat partner" th:field="${eventoWrapper.evento.eventoAvvalePartner}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat partner" th:field="${eventoWrapper.evento.eventoAvvalePartner}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.eventoAvvalePartner')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.eventoAvvalePartner')}__}"></div>
									<div class="col-xs-1">
										<div th:attr="data-original-title=#{label.info_partner_evento}" class="btn btn-default no-margin cursor-default" data-toggle="tooltip" data-placement="top"><i class="fa fa-info-circle"></i></div>
									</div>
								</div>
								<div class="no-padding partner-si item alert-tabella-evento form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.partners')} ? 'bad'">
									<div class="col-lg-9 col-md-11 col-sm-11 col-xs-12"></div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.partners')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.partners')}__}"></div>
									<div class="item form-group" style="clear:both; padding:2px;"></div>
									<div class="item form-group" style="clear:both">
										<div class="col-xs-offset-1 col-xs-10">
											<th:block th:include="evento/eventoEdit :: partners" />
										</div>
									</div>
								</div>

								<div class="divider-dashed"></div>

								<!-- DICHIARAZIONE CONFLITTO INTERESSI -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'dichiarazioneAssenzaConflittoInteresse')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span class="numVers1">32</span><span class="numVers2">33</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11" for="dichiarazioneAssenzaConflittoInteresse">
										<span th:text="#{label.dichiarazione_assenza_conflitto_interesse}">Dichiarazione di assenza di conflitto di interesse</span>
										<span class="required">*</span>
									</label>
										<div th:unless="${isRiedizione or isEditSemiBloccato}" class="model-link">
										<i class="fa fa-file-text"></i>
										<a class="autocertificazione_modello" target="_blank" th:text="#{label.esempio_modello}" href="https://salute.regione.veneto.it/c/document_library/get_file?p_l_id=991804&amp;folderId=1550089&amp;name=DLFE-29209.docx"></a>
									</div>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<!-- <th:block th:include="fragments/allegati :: allegati(eventoWrapper, false, dichiarazioneAssenzaConflittoInteresse, null, null, null, false, null, false)" ></th:block> -->
											<th:block th:unless="${isRiedizione or isEditSemiBloccato}" th:include="fragments/allegatiext :: allegatiext(eventoWrapper, false, '*{T(it.tredi.ecm.dao.enumlist.FileEnum).FILE_DICHIARAZIONE_ASSENZA_CONFLITTO_INTERESSE}', dichiarazioneAssenzaConflittoInteresse, null, null, null, true, 'edit', false)" ></th:block>
											<th:block th:if="${isRiedizione or isEditSemiBloccato}">
												<div class="value-edit" th:if="${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse != null}"><i class="fa fa-download"> </i> <a th:text="${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse.nomeFile}" th:href="@{|/file/${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse.id}|}"></a></div>
												<div class="value-edit danger" th:unless="${eventoWrapper.evento.dichiarazioneAssenzaConflittoInteresse != null}" th:text="#{label.allegato_non_inserito}"></div>
											</th:block>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'dichiarazioneAssenzaConflittoInteresse')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('dichiarazioneAssenzaConflittoInteresse')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<!-- PROCEDURA VERIFICA QUALITÀ -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.proceduraVerificaQualitaPercepita')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span class="numVers1">33</span><span class="numVers2">34</span>
									</label>
									<div class="control-label col-md-3 col-sm-3 col-xs-11">
									</div>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="checkbox">
												<label class="${isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.proceduraVerificaQualitaPercepita}" th:value="${true}" th:disabled="${isEditSemiBloccato}" />
												<span th:text="#{label.procedura_verifica_qualita}">E’ prevista una procedura di verifica della qualità percepita</span>
												<span class="required">*</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.proceduraVerificaQualitaPercepita')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.proceduraVerificaQualitaPercepita')}__}"></div>
								</div>

								<div class="divider-dashed"></div>

								<div class="item form-group" id="redazdoc_block" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.previstaRedazioneDocumentoConclusivo')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>35</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.prevista_redazione_documento_conclusivo}">È prevista la redazione di un documento conclusivo quale ad es. linee guida, procedure, protocolli, indicazioni operative?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat redazdoc" th:field="${eventoWrapper.evento.previstaRedazioneDocumentoConclusivo}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat redazdoc" th:field="${eventoWrapper.evento.previstaRedazioneDocumentoConclusivo}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.previstaRedazioneDocumentoConclusivo')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.previstaRedazioneDocumentoConclusivo')}__}"></div>
								</div>

								<div class="item form-group" id="prestutesp_block" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.presenteTutorEspertoEsternoValidatoreAttivita')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span>36</span>
									</label>
									<label class="control-label col-md-3 col-sm-3 col-xs-11">
										<span th:text="#{label.presente_tutor_esperto_esterno_validatore}">È presente un Tutor esperto esterno che validi le attività del gruppo?</span>
										<span class="required">*</span>
									</label>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat prestutesp" th:field="${eventoWrapper.evento.presenteTutorEspertoEsternoValidatoreAttivita}" th:value="${true}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.sì}">Sì</span>
											</label>
										</div>
										<div class="radio">
												<label th:class="${isRiedizione or isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="radio" class="flat prestutesp" th:field="${eventoWrapper.evento.presenteTutorEspertoEsternoValidatoreAttivita}" th:value="${false}" th:disabled="${isRiedizione or isEditSemiBloccato}" />
												<span th:text="#{label.no}">No</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.presenteTutorEspertoEsternoValidatoreAttivita')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.presenteTutorEspertoEsternoValidatoreAttivita')}__}"></div>
								</div>

								<!-- AUTORIZZAZIONE -->
								<div class="item form-group" th:classappend="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.autorizzazionePrivacy')} ? 'bad'">
									<label class="control-label col-xs-1">
										<span class="numVers1">34</span><span class="numVers2">37</span>
									</label>
									<div class="control-label col-md-3 col-sm-3 col-xs-11">
									</div>
									<div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
										<div class="checkbox">
												<label class="${isEditSemiBloccato} ? 'label-disabled' : ''">
													<input type="checkbox" class="flat" th:field="${eventoWrapper.evento.autorizzazionePrivacy}" th:value="${true}" th:disabled="${isEditSemiBloccato}" />
												<span th:text="#{label.autorizzazione_privacy}"></span>
												<span class="required">*</span>
											</label>
										</div>
									</div>
									<div th:if="${#maps.containsKey(eventoWrapper.mappaErroriValidazione, 'evento.autorizzazionePrivacy')}" class="alert" th:text="#{__${eventoWrapper.mappaErroriValidazione.get('evento.autorizzazionePrivacy')}__}"></div>
								</div>



								</th:block>
							</div>
						</div>
					</div>
				</div>

				<input id="submitButton" type="submit" style="display: none;" />
			</form>

			<script src="../static/js/province.js" th:src="@{/js/province.js}"></script>
			<script th:inline="javascript">
			/*<![CDATA[*/

				var selectRuoliCoinvolti = new Array();
				selectRuoliCoinvolti['TRAINING_INDIVIDUALIZZATO'] = new Array(['PARTECIPANTE','TUTOR','ESPERTO','COORDINATORE']);
				selectRuoliCoinvolti['GRUPPI_DI_MIGLIORAMENTO'] = new Array(['PARTECIPANTE','COORDINATORE_GRUPPI']);
				selectRuoliCoinvolti['ATTIVITA_DI_RICERCA'] = new Array(['PARTECIPANTE','COORDINATORE_ATTIVITA_RICERCA']);
				selectRuoliCoinvolti['AUDIT_CLINICO_ASSISTENZIALE'] = new Array(['PARTECIPANTE','COORDINATORE_ATTIVITA_AUDIT']);
				selectRuoliCoinvolti['PROGETTI_DI_MIGLIORAMENTO'] = new Array(['PARTECIPANTE','ESPERTO','COORDINATORE_GRUPPI','RESPONSABILE_PROGETTO']);

				$(document).ready(function() {

					//init selecpicker
				    $('select').selectpicker({
						selectAllText : 'Seleziona tutti',
						deselectAllText : 'Deseleziona tutti',
						countSelectedText : '{0} selezionate'
					});

					$('#addRuoloOreFSC-ruolo').prop('disabled',true);

					$(".datatable-responsive-programmaFSC").DataTable({
						"bFilter" : false,
						"bInfo" : false,
						"bPaginate" : false,
						"ordering" : false,
						"columnDefs": [{
							"targets": 5,
							"width": "1px",
							"sClass": "center",
							"responsivePriority": 1
						}]
					});

					$("#dt-riepilogoFSC").DataTable({
						"bFilter" : false,
						"bInfo" : false,
						"bPaginate" : false,
						"ordering" : false,
					});

					initAll();

					if([[${FSCTutorPartecipanti != null and FSCTutorPartecipanti == true}]])
						$("#modale-alert-fsctutorpartecipanti").modal("show");

				});

				function specialCasesAttivitaDiRicerca(){
					if($("#tipologiaSperimentazione").val() === [[${T(it.tredi.ecm.dao.enumlist.TipologiaSperimentazioneFSCEnum).SPERIMENTAZIONE_FARMACO_DIPSOSITIVO_MEDICO.toString()}]]) {
						$(".ottenutoComitatoEtico").find('span[class=required]').show();
						$("#sperimentazioneClinicaSiId").iCheck('enable');
						$("#sperimentazioneClinicaSiId").iCheck('check');
						$("#sperimentazioneClinicaNoId").iCheck('disable');
					}else if($("#tipologiaSperimentazione").val() === [[${T(it.tredi.ecm.dao.enumlist.TipologiaSperimentazioneFSCEnum).STUDI_OSSERVAZIONALI.toString()}]]) {
						$("#sperimentazioneClinicaNoId").iCheck('enable');
						$("#sperimentazioneClinicaNoId").iCheck('check');
						$(".ottenutoComitatoEtico").find('span[class=required]').hide();
						$(".ottenutoComitatoEtico").slideDown("slow");
						$("#sperimentazioneClinicaSiId").iCheck('disable');
					}else {
						$("#sperimentazioneClinicaSiId").iCheck('uncheck');
						$("#sperimentazioneClinicaNoId").iCheck('uncheck');
						$(".ottenutoComitatoEtico").slideUp("slow");
						$(".ottenutoComitatoEtico").find('span[class=required]').show();
						$("#sperimentazioneClinicaSiId").iCheck('enable');
						$("#sperimentazioneClinicaNoId").iCheck('enable');
					}
				}

				function initAll(){

					$("#tipologiaSperimentazione").change(function(){
						specialCasesAttivitaDiRicerca();
					});


					$("#add-attivitaFSC-modal").draggable({
						handle: ".modal-content"
					});

					$('input.flat').iCheck({
			            checkboxClass: 'icheckbox_flat-green',
			            radioClass: 'iradio_flat-green'
			        });

					//Aggancio eventi
					$('#tipologiaEventoId').on('change', setEvResTipologiaGruppo);
					$('#tipologiaEventoId').on('change', setEvResSperimentazioneClinica);
					$('#tipologiaEventoId').on('change', setEvResOttenutoComitatoEtico);
					$('#tipologiaEventoId').on('change', setEvResIndicatoreObbligatorio);
					$('#tipologiaEventoId').on('change', setEvResTipologiaSperimentazione);
					$('#tipologiaEventoId').on('change', setEspertiCoordinatori);
					$('#tipologiaEventoId').on('change', setStepEventoTempoDedicato);

					//modifica dataInizio
					$('#dataInizio').on("apply.daterangepicker change", function() {
						setEvResTipologiaSperimentazione();
						reInitDataTableById('responsabiliScientifici');
						setEspertiCoordinatori();
						mostraFlagCalcoloCrediti();
						abilitaDisabilitaMotivazioneCreditiInseritiUtente();
						setStepEventoTempoDedicato();
					});
					$('#dataInizio').on('change', setEvResTipologiaSperimentazione);
					$('#dataInizio').on('change', reInitDataTableById('responsabiliScientifici'));
					$('#dataInizio').on('change', setEspertiCoordinatori);
					$('#dataInizio').on('change', mostraFlagCalcoloCrediti);
					$('#dataInizio').on('change', abilitaDisabilitaMotivazioneCreditiInseritiUtente);
					$('#dataInizio').on('change', setStepEventoTempoDedicato);

					//non funziona
					//$('#sperimentazioneClinicaSiId, #sperimentazioneClinicaNoId').on('change', setEvResOttenutoComitatoEtico);
					$(".sperimentazioneClinica").on("ifChecked", setEvResOttenutoComitatoEtico);

					specialCasesAttivitaDiRicerca();
					setEspertiCoordinatori();
					mostraFlagCalcoloCrediti();
					setEvResTipologiaGruppo();
					setEvResSperimentazioneClinica();
					setEvResOttenutoComitatoEtico();
					setEvResIndicatoreObbligatorio();
					setEvResTipologiaSperimentazione();
					$(".fasiDaInserire").on("ifChecked", function(){
						reloadSection('tab2');
					});

					$(".redazdoc, .prestutesp").on("ifChecked", function(){
						console.log('reload tab3');
						reloadSection('tab3');
					});

					updateRuoliCoinvolti();

					abilitaDisabilitaCreditiInseritiUtente($(".crediti-conferma").iCheck('update')[0].checked);

					$(".crediti-conferma").on("ifChecked", function() {
						abilitaDisabilitaCreditiInseritiUtente(true);
					})
					$(".crediti-conferma").on("ifUnchecked", function() {
						abilitaDisabilitaCreditiInseritiUtente(false);
					})

					//init per provincia e comune della sede
					initProvinciaComune('provincia', 'comune');

					//var versione = getVersione();
					//if(isFsc() && versione === 2) {
					//if(versione === 2) {
						//var val = $('#tipologiaEventoId').selectpicker('val');
						reInitDataTableById('esperti');
						reInitDataTableById('coordinatori');
						//if (val === 'ATTIVITA_DI_RICERCA') {
							reInitDataTableById('investigatori');
						//}
					//}
					$('.crediti-proposti').on('keyup', abilitaDisabilitaMotivazioneCreditiInseritiUtente);
					$('.crediti-proposti').on('change', abilitaDisabilitaMotivazioneCreditiInseritiUtente);
				}


				//eventLister cambio tab
				$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			    	tabSelected = e.target.id;
					reloadSection(tabSelected);
				});

				//Codice
				function setEvResTipologiaGruppo() {
					//console.log($('#tipologiaEventoId').val());
					var val = $('#tipologiaEventoId').selectpicker('val');
					//alert(tipEvVal)
					if (val === 'GRUPPI_DI_MIGLIORAMENTO') {
						//alert('mostro')
						$(".tipologiaGruppo").slideDown("slow");
					} else {
						//alert('hide')
						$(".tipologiaGruppo").slideUp("slow");
						//resetto il valore
						$("#tipologiaGruppo").selectpicker('deselectAll');
						$("#tipologiaGruppo").selectpicker('refresh');
					}
				}

				function setEspertiCoordinatori() {
					var val = $('#tipologiaEventoId').selectpicker('val');
					var versione = getVersione();
					if (versione === 2) {
						if (val === 'ATTIVITA_DI_RICERCA') {
							$("#resp_esp_coord_invest_intesta").show();
							$("#resp_esp_coord_intesta").hide();
							$("#investigatori_block").show();
						} else {
							$("#resp_esp_coord_intesta").show();
							$("#resp_esp_coord_invest_intesta").hide();
							$("#investigatori_block").hide();
						}

						$("#resp_sci_num_campo").hide();
						$("#esperti_block").show();
						$("#coordinatori_block").show();
					} else {
						$("#resp_esp_coord_invest_intesta").hide();
						$("#resp_esp_coord_intesta").hide();
						$("#resp_sci_num_campo").show();
						$("#esperti_block").hide();
						$("#coordinatori_block").hide();
						$("#investigatori_block").hide();
					}
				}

				function mostraFlagCalcoloCrediti() {
					var versione = getVersione();
					if (versione === 2) {
						$("#redazdoc_block").show();
						$("#prestutesp_block").show();
					} else {
						$("#redazdoc_block").hide();
						$("#prestutesp_block").hide();
					}
				}

				function setEvResTipologiaSperimentazione() {
					//console.log($('#tipologiaEventoId').val());
					var val = $('#tipologiaEventoId').selectpicker('val');
					//alert(tipEvVal)
					var versione = getVersione();
					if (versione === 2 && val === 'ATTIVITA_DI_RICERCA') {
						//alert('mostro')
						$(".tipologiaSperimentazione").slideDown("slow");
					} else {
						//alert('hide')
						$(".tipologiaSperimentazione").slideUp("slow");
						//resetto il valore
						$("#tipologiaSperimentazione").selectpicker('deselectAll');
						$("#tipologiaSperimentazione").selectpicker('refresh');
					}
				}

				function setEvResSperimentazioneClinica() {
					//console.log($('#tipologiaEventoId').val());
					var val = $('#tipologiaEventoId').selectpicker('val');
					//alert(tipEvVal)
					if (val === 'ATTIVITA_DI_RICERCA') {
						//alert('mostro')
						$(".sperimentazioneClinica").slideDown("slow");
					} else {
						//alert('hide')
						$(".sperimentazioneClinica").slideUp("slow");
						//resetto il valore
						//$("#sperimentazioneClinica").selectpicker('deselectAll');
						//$("#sperimentazioneClinica").selectpicker('refresh');
					}
				}

				function setEvResOttenutoComitatoEtico() {
					//console.log($('#tipologiaEventoId').val());
					var val = $('#tipologiaEventoId').selectpicker('val');
					if (val === 'ATTIVITA_DI_RICERCA' && $('#sperimentazioneClinicaSiId').is(':checked')) {
						$(".ottenutoComitatoEtico").slideDown("slow");
					} else {
						$(".ottenutoComitatoEtico").slideUp("slow");
						//resetto il valore
						//$("#sperimentazioneClinica").selectpicker('deselectAll');
					}
				}

				function setEvResIndicatoreObbligatorio() {
					//console.log($('#tipologiaEventoId').val());
					var val = $('#tipologiaEventoId').selectpicker('val');
					if (val === 'PROGETTI_DI_MIGLIORAMENTO') {
						$(".indicatoreObbligatorio").show();
					} else {
						$(".indicatoreObbligatorio").hide();
					}
				}

				function setEvFSCRuoliCoinvolti() {
					var val = $('#tipologiaEventoId').selectpicker('val');
					$.each($(".inner-ruoliCoinvolti"), function() {
						$(this).hide();
						$.each($(this).find("input[type='text']"), function() {
							$(this).val('');
						});
						$.each($(this).find("input[type='checkbox']"), function() {
							$(this).iCheck('uncheck');
						});
					});

					if(val != null && val != undefined){
						var data = selectRuoliCoinvolti[val][0];

						for(var item = 0; item < data.length; item++){
							$.each($(".inner-ruoliCoinvolti"), function() {
								if($(this).find("input[type='checkbox']").val() == data[item])
									$(this).show();
							});
						}
					}
				}

				//funzione che abilita o disabilita il campo per inserire i crediti formativi manualmente
				//se l'utente accetta o meno i crediti proposti
				function abilitaDisabilitaCreditiInseritiUtente(value) {
					if($(".crediti-proposti").attr("data-editabile") === 'true') {
						if(value) {
							$(".crediti-proposti").val('');
							$(".crediti-proposti").prop("disabled", true);
						}
						else {
							$(".crediti-proposti").prop("disabled", false);
						}
					}
					abilitaDisabilitaMotivazioneCreditiInseritiUtente();
				}

				function abilitaDisabilitaMotivazioneCreditiInseritiUtente() {
					//console.log('abilitaDisabilitaMotivazioneCreditiInseritiUtente: ' + $(".crediti-proposti").val());
					var versione = getVersione();
					if (versione === 2) {
						if($(".crediti-proposti").val() == '') {
							//campo crediti-proposti compilato
							$(".motivazione-crediti").slideUp("fast");
							//$(".motivazione-crediti").hide();
							$(".motivazioneCrediti").val('');
						}
						else {
							//value false crediti inseriti dal provider
							$(".motivazione-crediti").slideDown("slow");
						}
					} else {
						$(".motivazione-crediti").slideUp("fast");
						//$(".motivazione-crediti").hide();
						$(".motivazioneCrediti").val('');
					}
				}

				function setStepEventoTempoDedicato() {
					//sistemo lo step dell'input eventoTempoDedicato
					var versione = getVersione();
					if (versione === 2) {
						//lo step è sempre 1
						$("#eventoTempoDedicato").attr('step', '1');
						console.log('setStepEventoTempoDedicato: versione = 2 - step = 1');
					} else {
						// cambia a seconda della Tipologia dell'evento
						var val = $('#tipologiaEventoId').selectpicker('val');
						if (val === 'GRUPPI_DI_MIGLIORAMENTO') {
							$("#eventoTempoDedicato").attr('step', '2');
							console.log('setStepEventoTempoDedicato: versione = 1 GRUPPI_DI_MIGLIORAMENTO - step = 2');
						} else {
							$("#eventoTempoDedicato").attr('step', '1');
							console.log('setStepEventoTempoDedicato: versione = 1 - step = 1');
						}
					}
				}
				
		/* 		function updateSelectRuoliOre(){
					var val = $('#tipologiaEventoId').selectpicker('val');
					var ruoliOrePicker_ref ='#addRuoloOreFSC-ruolo';

					$.each($(ruoliOrePicker_ref + " option"), function() {
						$(this).hide();
					});

					if(val != null && val != undefined){
						var data = selectRuoliCoinvolti[val][0];

						for(var item = 0; item < data.length; item++){

							$.each($(ruoliOrePicker_ref + " option"), function() {
								if($(this).attr("value") == data[item])
									$(this).show();
							});
						}

						$(ruoliOrePicker_ref).selectpicker('refresh');
					}
				}; */

				var ruoliRespScient = [[${eventoWrapper.getListRuoloFSCEnumPerResponsabiliScientificiDocenti()}]];
				var ruoliEsperti = [[${eventoWrapper.getListRuoloFSCEnumPerEspertiDocenti()}]];
				var ruoliCoordinatori = [[${eventoWrapper.getListRuoloFSCEnumPerCoordinatori()}]];

				function updateRuoliCoinvolti(){
					var tipologiaEvento = $('#tipologiaEventoId').selectpicker('val');
					if(tipologiaEvento != null && tipologiaEvento != undefined){
						var selectId = '#addRuoloOreFSC-ruolo';
						var start = [[@{/listaRuoliCoinvolti?tipologiaEvento=}]];
						var end = tipologiaEvento;
						var url = start + end;
						var versione = getVersione();

						$(selectId).selectpicker('val','');
						$(selectId).prop('disabled',false);

						$.get(url, function(data){
							//console.log('-----------------------');
							//console.log(data);
							//console.log('-----------------------');
							$.each($(selectId + " option"), function() {
								$(this).hide();
							});

							for(var item = 0; item < data.length; item++){
								$.each($(selectId + " option"), function() {
									//console.log($(this).attr("value"));
									//se evento versione 2 non ablito gli esperti e neppure i coordinatori
									if(versione === 1 || ($(this).attr("value") != 'ESPERTO_A' && $(this).attr("value") != 'ESPERTO_B' && $(this).attr("value") != 'ESPERTO_C'
										 && $(this).attr("value") != 'COORDINATORE' && $(this).attr("value") != 'COORDINATORE_GRUPPI' && $(this).attr("value") != 'COORDINATORE_ATTIVITA_RICERCA' && $(this).attr("value") != 'COORDINATORE_ATTIVITA_AUDIT'
									     && $(this).attr("value") != 'COORDINATORE_GRUPPI_A' && $(this).attr("value") != 'COORDINATORE_GRUPPI_B' && $(this).attr("value") != 'COORDINATORE_GRUPPI_C' )) {
										if($(this).attr("value") == data[item])
											$(this).show();
									}
								});
							}

							if (versione === 2) {
								//devo integrare il dato con gli eventuali RESPONSABILE_SCIENTIFICO_X
								$.each(ruoliRespScient, function() {
									//console.log('ruoliRespScient: ' + $(this).attr("$name"));
									var parent = this;
									$.each($(selectId + " option"), function() {
										//console.log($(this).attr("value"));
										if($(this).attr("value") == $(parent).attr("$name"))
											$(this).show();
									});
								});
								//devo integrare il dato con gli eventuali ESPERTI_X
								$.each(ruoliEsperti, function() {
									//console.log('ruoliEsperti: ' + $(this).attr("$name"));
									var parent = this;
									$.each($(selectId + " option"), function() {
										//console.log($(this).attr("value"));
										if($(this).attr("value") == $(parent).attr("$name"))
											$(this).show();
									});
								});
								//devo integrare il dato con gli eventuali COORDINATORI_X
								$.each(ruoliCoordinatori, function() {
									//console.log('ruoliCoordinatori: ' + $(this).attr("$name"));
									var parent = this;
									$.each($(selectId + " option"), function() {
										//console.log($(this).attr("value"));
										if($(this).attr("value") == $(parent).attr("$name"))
											$(this).show();
									});
								});

							}

							$(selectId).selectpicker('refresh');
						});
					}
				};


				/********************* PROGRAMMA GIORNALIERO ****************************/
				function openAddAttivitaTo(target,programmaIndex,modificaElemento,clean){
					if(clean) {
						var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/resettaAttivita/|}]] + target;
						$.get(url).done(function(data) {
							$('#container-' + target).empty().html(data);
							reInitModaleAddAttivita();
							$("#add-attivitaFSC-modal").modal("show");
							openAddAttivitaTo(target,programmaIndex,modificaElemento,false);
						})
					  	.fail(function() {
					    	alert( "error" );
					 	})
					 }
					 else {
						$('#targetTableAttivitaFSC').val(target);
						$('#addAttivitaTo').val(programmaIndex);
						$('#modificaElementoAttivitaFSC').val(modificaElemento);

						var tipologiaEvento = $('#tipologiaEventoId').val();
						setEvFSCRuoliCoinvolti();

						switch(tipologiaEvento){
							case 'TRAINING_INDIVIDUALIZZATO': showAzioneLabel();
								break;
							case 'GRUPPI_DI_MIGLIORAMENTO':	showFaseLabel();
								break;
							case 'PROGETTI_DI_MIGLIORAMENTO':showAzioneLabel();
								break;
							case 'ATTIVITA_DI_RICERCA': showAzioneLabel();
								break;
							case 'AUDIT_CLINICO_ASSISTENZIALE': showAzioneLabel();
								break;
							default: break;
						}
					}
				 }

				function showFaseLabel(){
					$('#azioneLabel').hide();
					$('#faseLabel').show();
				}

				function showAzioneLabel(){
					$('#faseLabel').hide();
					$('#azioneLabel').show();
				}

				/*parametrizzabile passando solo FSC*/
			 	function closeModaleAddAttivitaTo(){
					$("#add-attivitaFSC-modal").modal("hide");
					$("#add-attivitaFSC-modal form")[0].reset();

					$.each($("#add-attivitaFSC-modal .selectpicker"),function(){
						$(this).selectpicker('val','');
					});

					$('#add-attivitaFSC-modal input[type="checkbox"]').removeAttr('checked').iCheck('update');

					$('#ruoloOreFSC').empty().html("");

				}

				/* function reInitModaleAddAttivitaTo(){
					$('input.flat').iCheck({
			            checkboxClass: 'icheckbox_flat-green',
			            radioClass: 'iradio_flat-green'
			        });
				} */

				/*parametrizzabile passando solo FSC*/
				function sendAjaxAddAttivitaToProgramma(){
					var target = $('#targetTableAttivitaFSC').val();
					var programmaIndex = $('#addAttivitaTo').val();
					$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addAttivitaTo|}]], $('#addAttivitaFSC').serialize() + eventoWrapper_cId)
						.done(function(data) {
						  	$('#'+target).empty().html(data);
							closeModaleAddAttivitaTo();
							reInitDataTableByClass('datatable-responsive-programmaFSC');
						  })
					  	.fail(function() {
					  		//TODO mostra error sui campi mancanti
					    	alert( "errorFSC sendAjaxAddAttivitaToProgramma" );
					 	 })
				}

				/*parametrizzabile - è identica a RES*/
				function removeAttivitaFrom(target,caller){
					var rowIndex = $(caller).closest("tr").data('row-id');
					var removeAttivitaFrom = $(caller).closest("div.div-fase-id").data('fase-id');
					var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/removeAttivitaFrom/|}]] + target + "/" + removeAttivitaFrom + "/" + rowIndex;

					$("#" + target).load(url, function() {
						reInitDataTableByClass('datatable-responsive-programmaFSC');
					});
				}

				//modifica Attivita
				function modificaAttivitaFrom(target,caller){
					var modificaElemento = $(caller).closest("tr").data('row-id');
					var programmaIndex = $(caller).closest("div.div-fase-id").data('fase-id');
					if(modificaElemento == undefined)
						modificaElemento = 0;

					sendAjaxModificaAttivitaTo(target,programmaIndex,modificaElemento);
				}

				function sendAjaxModificaAttivitaTo(target,programmaIndex,modificaElemento){
					var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/modificaAttivita/|}]] + target + '/' + programmaIndex + '/' + modificaElemento;
					$.get(url).done(function(data) {
						$('#container-' + target).empty().html(data);
						reInitModaleAddAttivita();
						$("#add-attivitaFSC-modal").modal("show");
						openAddAttivitaTo(target,programmaIndex,modificaElemento,false);
					  })
				  	.fail(function() {
				    	alert( "error" );
				 	 })
				}


				/*parametrizzabile - è  identica a RES*/
				function reloadSection(selectedTab){
					if(selectedTab == 'tab1'){
						sendAjaxReloadSection('1');
					}else if(selectedTab == 'tab2'){
						sendAjaxReloadSection('2');
					}else if(selectedTab == 'tab3'){
						sendAjaxReloadSection('3');
					}
				}

				/*parametrizzabile passando solo FSC*/
				function sendAjaxReloadSection(sectionIndex){
					$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/showSection/|}]] + sectionIndex, $('#formEventoFSC').serialize() + eventoWrapper_cId)
					.done(function(data) {
					  	$('#section-' + sectionIndex).empty().html(data);
					  	reInitComponents(sectionIndex);
					  })
				  	.fail(function() {
				  		//TODO mostra error sui campi mancanti
				    	alert( "error" );
				 	 })
				}

				function reInitComponents(sectionIndex){
					//init selecpicker
					$('select').selectpicker({
						selectAllText : 'Seleziona tutti',
						deselectAllText : 'Deseleziona tutti',
						countSelectedText : '{0} selezionate'
					});
					initAll();
					initAllCommon();
					switch (sectionIndex) {
					case '1': 	reInitDataTableById('responsabiliScientifici');
								//var versione = getVersione();
								//if(isFsc() && versione === 2) {
								//if(versione === 2) {
								//	var val = $('#tipologiaEventoId').selectpicker('val');
									reInitDataTableById('esperti');
									reInitDataTableById('coordinatori');
									//if (val === 'ATTIVITA_DI_RICERCA') {
										reInitDataTableById('investigatori');
									//}
								//}
								break;
					case '2':  	reInitDataTableByClass('datatable-responsive-programmaFSC');
								break;
					case '3':	reInitDataTableById('responsabileSegreteria');
								reInitDataTableById('sponsors');
								reInitDataTableById('partners');
								reInitDataTableById('dt-riepilogoFSC');
								break;
					default: 	break;
				}
			}

				function sendAjaxAddRuoloOreToTemp(){
					var $form = $('#addRuoloOreFSC');
					$.post([[@{|/provider/${eventoWrapper.evento.provider.id}/evento/addRuoloOreToTemp|}]], $('#addRuoloOreFSC').serialize() + eventoWrapper_cId)
					.done(function(data) {
						$('#container-ruoloOreFSC').empty().html(data);
					  	closeModaleAddRuoloOreFSCTo();
					  })
				  	.fail(function() {
				  		//TODO mostra error sui campi mancanti
				    	alert( "errorFSC" );
				 	 })
				}

				function closeModaleAddRuoloOreFSCTo(){
					$("#add-ruoloOreFSC-modal").modal("hide");
					$("#add-ruoloOreFSC-modal form")[0].reset();
					$("#add-ruoloOreFSC-modal .selectpicker").selectpicker('val','')
				}

				function removeRuoloOreFSC(caller){
					var rowIndex = $(caller).parent().data('row-id');
					var url = [[@{|/provider/${eventoWrapper.evento.provider.id}/evento/removeRuoloOreToTemp/|}]] + rowIndex;

					$("#container-ruoloOreFSC").load(url);
				}

			/*]]>*/
			</script>

		</div>

	</th:block>
</body>
</html>